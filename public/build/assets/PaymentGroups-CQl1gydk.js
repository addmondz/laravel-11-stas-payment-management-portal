import{_ as D}from"./ListComponent-CJcN8Dqo.js";import{_ as S}from"./AuthenticatedLayout-D40DijIM.js";import{a as i,k as v,o as n,g as p,b as t,t as y,u as g,c as f,h as x,F as b,l as k,w as h,d as $}from"./app-CnqBuGYj.js";import{I as E,_ as j}from"./BreadcrumbComponent-CU2Ikwqb.js";import{_ as A}from"./ClaimsListTemplate-CbI8F_0g.js";import{_ as V,A as G,a as N}from"./DocumentViewer-DIqqXWuh.js";import{d as F,h as I,b as L}from"./helpers-Cuuican3.js";import"./NotFound-Bj_nHcSj.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Modal-C8Y5im8H.js";import"./PrimaryButton-yAnmGp7w.js";import"./InputError-B9sv3Ep1.js";import"./TextInput-HP_9QdKv.js";import"./DateRangeComponent-CAXbfccF.js";import"./PaymentVoucherForm-D16oQwL4.js";import"./StatusLabel-Ce68BO8H.js";import"./CustomSelectComponent-CjEizn_n.js";var R={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM770.87 199.13l-52.2-52.2a8.01 8.01 0 014.7-13.6l179.4-21c5.1-.6 9.5 3.7 8.9 8.9l-21 179.4c-.8 6.6-8.9 9.4-13.6 4.7l-52.4-52.4-256.2 256.2a8.03 8.03 0 01-11.3 0l-42.4-42.4a8.03 8.03 0 010-11.3l256.1-256.3z"}}]},name:"export",theme:"outlined"};function O(a){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?Object(arguments[s]):{},o=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(l){return Object.getOwnPropertyDescriptor(r,l).enumerable}))),o.forEach(function(l){U(a,l,r[l])})}return a}function U(a,s,r){return s in a?Object.defineProperty(a,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[s]=r,a}var w=function(s,r){var o=O({},s,r.attrs);return i(E,O({},o,{icon:R}),null)};w.displayName="ExportOutlined";w.inheritAttrs=!1;const B={class:"w-full flex flex-col justify-center order-last lg:order-none max-lg:mx-auto border p-5 rounded-xl overflow-hidden bg-white hover:border-violet-600 transition-all duration-500"},M={class:"flex items-center justify-center"},T={class:"flex-1"},z={class:"grid grid-cols-5 gap-4"},H={class:"col"},q={class:"row"},J={class:"col"},Q={class:"text-[14px]"},W={class:"col"},X={class:"row"},Y={class:"col"},Z={class:"text-[14px] truncate"},K={class:"col"},tt={class:"row"},et={class:"col"},at={class:"text-[14px] truncate"},st={class:"col"},rt={class:"row"},ot={class:"col"},lt={class:"flex justify-end items-center space-x-4"},nt={key:0,class:"mt-5"},it={__name:"PaymentGroupListTemplate",props:{data:{type:Object,required:!0}},setup(a,{emit:s}){const r=s,o=a,l=v(!0),c=v(!1),u=()=>{c.value=!c.value},C=()=>{r("createComplete",!0)},P=d=>{let e={reportName:"Claim Export",reportType:"claimExport",payment_group_id:o.data.id,for_pdf:!1};return e.for_pdf=!0,e},_=async d=>{l.value=!0;try{const e=P(d==="export"),m={export:route("reports.exportPaymentGroupPDF",e.reportType)};await I(d,e,m,"payment_group_report_"+L(o.data.id))}catch(e){console.error("Error generating report:",e)}finally{l.value=!1}};return(d,e)=>(n(),p("div",B,[t("div",M,[t("div",T,[t("div",z,[t("div",H,[e[1]||(e[1]=t("div",{class:"row"},[t("div",{class:"col-auto"},[t("div",{class:"mb-1 text-xs text-gray-500"},"ID")])],-1)),t("div",q,[t("div",J,[t("div",Q,y(a.data.id),1)])])]),t("div",W,[e[2]||(e[2]=t("div",{class:"row"},[t("div",{class:"col-auto"},[t("div",{class:"mb-1 text-xs text-gray-500"},"Payment Voucher Number")])],-1)),t("div",X,[t("div",Y,[t("div",Z,y(a.data.payment_voucher_number),1)])])]),t("div",K,[e[3]||(e[3]=t("div",{class:"row"},[t("div",{class:"col-auto"},[t("div",{class:"mb-1 text-xs text-gray-500"},"Payment Date")])],-1)),t("div",tt,[t("div",et,[t("div",at,y(g(F)(a.data.payment_date)),1)])])]),t("div",st,[e[4]||(e[4]=t("div",{class:"row"},[t("div",{class:"col-auto"},[t("div",{class:"mb-1 text-xs text-gray-500"},"Payment Voucher Receipt")])],-1)),t("div",rt,[t("div",ot,[i(V,{src:`/${a.data.payment_voucher_receipt_file}`,alt:"Receipt Image",id:a.data.id},null,8,["src","id"])])])]),t("div",lt,[i(g(w),{class:"cursor-pointer",onClick:e[0]||(e[0]=m=>_("export"))}),c.value?(n(),f(G,{key:0,class:"cursor-pointer",onClick:u})):x("",!0),c.value?x("",!0):(n(),f(N,{key:1,class:"cursor-pointer",onClick:u}))])]),c.value?(n(),p("div",nt,[(n(!0),p(b,null,k(a.data.claims,m=>(n(),f(A,{onCreateComplete:C,class:"mb-2",onUpdateSelectedList:d.handleUpdateSelectedList,key:m.id,data:m},null,8,["onUpdateSelectedList","data"]))),128))])):x("",!0)])])]))}},ct={class:"flex justify-between content-center"},dt={class:"max-w-8xl mx-auto sm:px-6 lg:px-8 p-5 sm:p-0 mt-3"},St={__name:"PaymentGroups",setup(a){const s=v(2),r=()=>{s.value=Math.floor(Math.random()*100)+132},o=v([{display_name:"Payment Group ID",field_name:"id",field_type:"string"},{display_name:"Payment Voucher Number",field_name:"payment_voucher_number",field_type:"string"},{display_name:"Payment Date",field_name:"payment_date",field_type:"date_range"}]);return(l,c)=>(n(),p(b,null,[i(g($),{title:"Payment Groups"}),i(S,null,{header:h(()=>[t("div",ct,[i(j,{breadcrumbs:[{title:"Payment Groups"}]})])]),default:h(()=>[t("div",dt,[i(D,{apiUrl:l.route("paymentGroup.list"),createCompleteSignal:s.value,sortAndFilters:o.value,allowSorting:!1},{"list-view":h(({data:u,apiResponse:C,fullApiResponse:P})=>[(n(!0),p(b,null,k(u,_=>(n(),f(it,{onCreateComplete:r,key:_.id,data:_},null,8,["data"]))),128))]),_:1},8,["apiUrl","createCompleteSignal","sortAndFilters"])])]),_:1})],64))}};export{St as default};
