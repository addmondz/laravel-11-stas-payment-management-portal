import{a as u,k as p,o as i,g as d,w,b as o,F as b,l as x,t as _,u as h,h as U,c as O,e as z,m as V,d as B,j as $,p as I,n as D}from"./app-CKJlhc5n.js";import{i as T,_ as E,g as q}from"./AuthenticatedLayout-D6md6byR.js";import{I as L,_ as J}from"./BreadcrumbComponent-BZ_Dkg_x.js";import{_ as M,a as R}from"./ClaimsListTemplate-M5D0_LYf.js";import{_ as H}from"./ListComponent-B_NSx0hH.js";import{f as G,a as W}from"./helpers-DXJXZNn-.js";import{_ as Q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./StatusLabel-CsCSzOfQ.js";import"./InputError-DiYSUf4d.js";import"./TextInput-Bb-HKu0g.js";import"./Modal-DIaMvDbo.js";import"./PrimaryButton-CNKNMg_g.js";import"./NotFound-CLE_b8T9.js";import"./CustomSelectComponent-C3NIRUgW.js";import"./DateRangeComponent-87ciZY2h.js";import"./PaymentVoucherForm-BdXI02-G.js";var X={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M945 412H689c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h256c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM811 548H689c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h122c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM477.3 322.5H434c-6.2 0-11.2 5-11.2 11.2v248c0 3.6 1.7 6.9 4.6 9l148.9 108.6c5 3.6 12 2.6 15.6-2.4l25.7-35.1v-.1c3.6-5 2.5-12-2.5-15.6l-126.7-91.6V333.7c.1-6.2-5-11.2-11.1-11.2z"}},{tag:"path",attrs:{d:"M804.8 673.9H747c-5.6 0-10.9 2.9-13.9 7.7a321 321 0 01-44.5 55.7 317.17 317.17 0 01-101.3 68.3c-39.3 16.6-81 25-124 25-43.1 0-84.8-8.4-124-25-37.9-16-72-39-101.3-68.3s-52.3-63.4-68.3-101.3c-16.6-39.2-25-80.9-25-124 0-43.1 8.4-84.7 25-124 16-37.9 39-72 68.3-101.3 29.3-29.3 63.4-52.3 101.3-68.3 39.2-16.6 81-25 124-25 43.1 0 84.8 8.4 124 25 37.9 16 72 39 101.3 68.3a321 321 0 0144.5 55.7c3 4.8 8.3 7.7 13.9 7.7h57.8c6.9 0 11.3-7.2 8.2-13.3-65.2-129.7-197.4-214-345-215.7-216.1-2.7-395.6 174.2-396 390.1C71.6 727.5 246.9 903 463.2 903c149.5 0 283.9-84.6 349.8-215.8a9.18 9.18 0 00-8.2-13.3z"}}]},name:"field-time",theme:"outlined"};function j(l){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},a=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(t).filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),a.forEach(function(n){Y(l,n,t[n])})}return l}function Y(l,e,t){return e in l?Object.defineProperty(l,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):l[e]=t,l}var P=function(e,t){var a=j({},e,t.attrs);return u(L,j({},a,{icon:X}),null)};P.displayName="FieldTimeOutlined";P.inheritAttrs=!1;var Z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M752 240H144c-17.7 0-32 14.3-32 32v608c0 17.7 14.3 32 32 32h608c17.7 0 32-14.3 32-32V272c0-17.7-14.3-32-32-32zm-40 600H184V312h528v528zm168-728H264c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h576v576c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V144c0-17.7-14.3-32-32-32zM300 550h296v64H300z"}}]},name:"switcher",theme:"outlined"};function k(l){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},a=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(t).filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),a.forEach(function(n){K(l,n,t[n])})}return l}function K(l,e,t){return e in l?Object.defineProperty(l,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):l[e]=t,l}var F=function(e,t){var a=k({},e,t.attrs);return u(L,k({},a,{icon:Z}),null)};F.displayName="SwitcherOutlined";F.inheritAttrs=!1;const ee={key:0,class:"bg-white p-5 rounded-xl"},te={class:"grid grid-cols-1 sm:grid-cols-3 lg:grid-cols-3 gap-6"},le={class:"mb-2"},ae={class:"flex justify-between"},ne={class:"font-bold"},N={__name:"AllClaim",props:{createCompleteSignal:{type:Number,default:!1},sortAndFilters:{type:Array,required:!1}},setup(l,{emit:e}){const t=e,a=p([]),n=({isSelected:f,id:c})=>{a.value=f?[...new Set([...a.value,c])]:a.value.filter(v=>v!==c)},y=f=>{t("createComplete",!0)};return(f,c)=>(i(),d("div",null,[u(H,{apiUrl:f.route("claims.list"),createCompleteSignal:l.createCompleteSignal,sortAndFilters:l.sortAndFilters,allowSorting:!0,showFiltersOutside:!0},{"list-view":w(({data:v,apiResponse:g,fullApiResponse:s})=>[Object.keys(s.total_sum_by_country).length?(i(),d("div",ee,[c[1]||(c[1]=o("h2",{class:"mb-4"},"Total Amount",-1)),o("div",te,[(i(!0),d(b,null,x(s.total_sum_by_country,(r,m)=>(i(),d("div",{key:m,class:"bg-gray-100 p-6 rounded-xl shadow-md transition-all duration-500 border"},[o("p",le,_(r.country_name)+" ("+_(m)+")",1),o("div",ae,[c[0]||(c[0]=o("span",null,"Amount:",-1)),o("span",null,[o("span",ne,_(r.currency)+" "+_(h(G)(r.amount)),1)])])]))),128))])])):U("",!0),(i(!0),d(b,null,x(v,r=>(i(),O(M,{createComplete:l.createCompleteSignal,onCreateComplete:y,onUpdateSelectedList:n,key:r.id,data:r},null,8,["createComplete","data"]))),128))]),_:1},8,["apiUrl","createCompleteSignal","sortAndFilters"])]))}},re={__name:"PendingClaim",props:{createCompleteSignal:{type:Number,default:!1},sortAndFilters:{type:Array,required:!1}},emits:["pendingClaimsCount"],setup(l,{emit:e}){const t=p([]),a=e,n=p([]),y=p(1),f=p(0),c=r=>{a("pendingClaimsCount",r)},v=r=>{n.value=r},g=({isSelected:r,id:m})=>{r?n.value=[...new Set([...n.value,m])]:n.value=n.value.filter(C=>C!==m);const S=[...n.value].sort(),A=[...t.value].sort();f.value=JSON.stringify(S)===JSON.stringify(A)},s=r=>{a("createComplete",!0)};return(r,m)=>(i(),d("div",null,[(i(),O(H,{apiUrl:r.route("claims.listPendingApproval"),createCompleteSignal:l.createCompleteSignal,key:y.value,allowSorting:!0,sortAndFilters:l.sortAndFilters,allowSelectAll:!0,selectedIds:n.value,"onUpdate:wholeSelectedIds":v,showFiltersOutside:!0},{"list-view":w(({data:S,apiResponse:A})=>[z(_(c(A.total))+" ",1),(i(!0),d(b,null,x(S,C=>(i(),O(M,{createComplete:l.createCompleteSignal,onCreateComplete:s,onUpdateSelectedList:g,key:C.id,showGroupActions:!0,data:C,isSelected:n.value.includes(C.id)},null,8,["createComplete","data","isSelected"]))),128))]),_:1},8,["apiUrl","createCompleteSignal","sortAndFilters","selectedIds"]))]))}},ie={class:"flex justify-between content-center"},se={class:"max-w-8xl mx-auto sm:px-6 lg:px-8 p-5 sm:p-0 mt-3",style:{"padding-top":"20px","padding-bottom":"40px"}},oe={key:0},ce={class:"inline-flex max-w-full"},de=["onClick"],me={class:"flex"},ue={class:"flex justify-center items-center"},pe={key:0,class:"bg-gray-500 px-2 py-1 ml-3 text-white text-xs notification-circle rounded"},fe={class:"w-full bg-black-50 p-1 rounded-xl"},ve={key:1},_e={__name:"Claim",setup(l){const e=p(2),t=p(0),a=p(localStorage.getItem("activeTab")||"allClaims"),n=p([{name:"allClaims",label:"All Payments",icon:F},{name:"pendingApproval",label:T().value?"Pending Action":"Pending Approval",icon:P}]),y=s=>a.value===s?"active bg-violet-400 text-white font-bold":"hover:bg-gray-200 text-black bg-white",f=s=>{a.value=s,localStorage.setItem("activeTab",s)},c=()=>{e.value=Math.floor(Math.random()*100)+1},v=s=>{t.value=s},g=p([{display_name:"Payment ID",field_name:"id",field_type:"string"},{field_name:"payment_type",field_type:"select",options:{reimbursement:"Reimbursement",external_payment:"External Payment"}},{field_name:"approval_level",field_type:"select",options:{0:"L1",1:"L2",2:"L3"}},{display_name:"Payment Category",field_name:"payment_category_id",field_type:"select",api:route("paymentCategory.listChoice")},{display_name:"Payment To",field_name:"payment_receiver_id",field_type:"select",api:route("paymentReceiver.listIdToName")},{display_name:"Currency",field_name:"currency_id",field_type:"select",api:route("currency.listShortCode")},{display_name:"Created Date",field_name:"created_at",field_type:"date_range"},{field_name:"status",field_type:"select",api:route("approvalStatus.list")}]);return V(()=>{const s=localStorage.getItem("activeTab");s&&(a.value=s)}),(s,r)=>(i(),d(b,null,[u(h(B),{title:"Payments"}),u(E,null,{header:w(()=>[o("div",ie,[u(J,{breadcrumbs:[{title:"Payments"}]}),u(R,{onCreateComplete:c})])]),default:w(()=>[o("div",se,[h(q)().value||h(T)().value?(i(),d("div",oe,[o("div",ce,[(i(!0),d(b,null,x(n.value,m=>(i(),d("span",{key:m.name,class:D([["tab-btn p-2 px-5 text-md flex justify-center items-center",y(m.name)],"flex-1 pt-5 pb-5 border border-violet-500 flex flex-col sm:min-w-60"]),onClick:S=>f(m.name)},[o("div",me,[z(_(m.label)+" ",1),o("div",ue,[m.name=="pendingApproval"&&t.value!=0&&t.value!=null?(i(),d("span",pe,_(h(W)(t.value)),1)):U("",!0)])])],10,de))),128))]),o("div",fe,[$(o("div",null,[u(re,{createCompleteSignal:e.value,onPendingClaimsCount:v,onCreateComplete:c,sortAndFilters:g.value},null,8,["createCompleteSignal","sortAndFilters"])],512),[[I,a.value==="pendingApproval"]]),$(o("div",null,[u(N,{createCompleteSignal:e.value,onCreateComplete:c,sortAndFilters:g.value},null,8,["createCompleteSignal","sortAndFilters"])],512),[[I,a.value==="allClaims"]])])])):(i(),d("div",ve,[u(N,{createCompleteSignal:e.value,sortAndFilters:g.value,onCreateComplete:c},null,8,["createCompleteSignal","sortAndFilters"])]))])]),_:1})],64))}},ke=Q(_e,[["__scopeId","data-v-2463eeb0"]]);export{ke as default};
