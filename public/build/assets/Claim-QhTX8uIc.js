import{a as o,o as u,g as v,b as e,j as k,k as D,u as i,n as N,l as y,C as fe,m as W,p as ye,w as T,e as M,t as g,f as ge,q as G,F as V,s as F,x as X,h as I,y as _e,z as be,P as he,c as R,d as xe}from"./app-BO-iAwN0.js";import{i as le,_ as Ce,g as Se}from"./AuthenticatedLayout-BcUvgg9F.js";import{I as J,_ as we}from"./BreadcrumbComponent-BDgHYgwK.js";import{_ as se}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{S as U,f as Pe,a as ne,b as $e,c as ke}from"./helpers-DIC7V3ee.js";import{_ as Oe}from"./StatusLabel-CnLBPkcj.js";import{_ as O}from"./InputError-VSG9Md0o.js";import{_ as A,a as L}from"./TextInput-BRN9kaBJ.js";import{M as Ae}from"./Modal-Y894GtZV.js";import{P as H}from"./PrimaryButton-DhK2kd3z.js";import{L as Te}from"./NotFound-BhHfzR3u.js";import{C as je}from"./CustomSelectComponent-CvgjRZRz.js";import{_ as re}from"./ListComponent-D4bZFfGO.js";import"./DateRangeComponent-BfYWX09B.js";var Ve={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"};function Z(t){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?Object(arguments[s]):{},n=Object.keys(l);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(l).filter(function(d){return Object.getOwnPropertyDescriptor(l,d).enumerable}))),n.forEach(function(d){Fe(t,d,l[d])})}return t}function Fe(t,s,l){return s in t?Object.defineProperty(t,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):t[s]=l,t}var Y=function(s,l){var n=Z({},s,l.attrs);return o(J,Z({},n,{icon:Ve}),null)};Y.displayName="CheckOutlined";Y.inheritAttrs=!1;var Be={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M945 412H689c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h256c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM811 548H689c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h122c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM477.3 322.5H434c-6.2 0-11.2 5-11.2 11.2v248c0 3.6 1.7 6.9 4.6 9l148.9 108.6c5 3.6 12 2.6 15.6-2.4l25.7-35.1v-.1c3.6-5 2.5-12-2.5-15.6l-126.7-91.6V333.7c.1-6.2-5-11.2-11.1-11.2z"}},{tag:"path",attrs:{d:"M804.8 673.9H747c-5.6 0-10.9 2.9-13.9 7.7a321 321 0 01-44.5 55.7 317.17 317.17 0 01-101.3 68.3c-39.3 16.6-81 25-124 25-43.1 0-84.8-8.4-124-25-37.9-16-72-39-101.3-68.3s-52.3-63.4-68.3-101.3c-16.6-39.2-25-80.9-25-124 0-43.1 8.4-84.7 25-124 16-37.9 39-72 68.3-101.3 29.3-29.3 63.4-52.3 101.3-68.3 39.2-16.6 81-25 124-25 43.1 0 84.8 8.4 124 25 37.9 16 72 39 101.3 68.3a321 321 0 0144.5 55.7c3 4.8 8.3 7.7 13.9 7.7h57.8c6.9 0 11.3-7.2 8.2-13.3-65.2-129.7-197.4-214-345-215.7-216.1-2.7-395.6 174.2-396 390.1C71.6 727.5 246.9 903 463.2 903c149.5 0 283.9-84.6 349.8-215.8a9.18 9.18 0 00-8.2-13.3z"}}]},name:"field-time",theme:"outlined"};function ee(t){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?Object(arguments[s]):{},n=Object.keys(l);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(l).filter(function(d){return Object.getOwnPropertyDescriptor(l,d).enumerable}))),n.forEach(function(d){Ue(t,d,l[d])})}return t}function Ue(t,s,l){return s in t?Object.defineProperty(t,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):t[s]=l,t}var K=function(s,l){var n=ee({},s,l.attrs);return o(J,ee({},n,{icon:Be}),null)};K.displayName="FieldTimeOutlined";K.inheritAttrs=!1;var Me={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M752 240H144c-17.7 0-32 14.3-32 32v608c0 17.7 14.3 32 32 32h608c17.7 0 32-14.3 32-32V272c0-17.7-14.3-32-32-32zm-40 600H184V312h528v528zm168-728H264c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h576v576c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V144c0-17.7-14.3-32-32-32zM300 550h296v64H300z"}}]},name:"switcher",theme:"outlined"};function te(t){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?Object(arguments[s]):{},n=Object.keys(l);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(l).filter(function(d){return Object.getOwnPropertyDescriptor(l,d).enumerable}))),n.forEach(function(d){Ie(t,d,l[d])})}return t}function Ie(t,s,l){return s in t?Object.defineProperty(t,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):t[s]=l,t}var Q=function(s,l){var n=te({},s,l.attrs);return o(J,te({},n,{icon:Me}),null)};Q.displayName="SwitcherOutlined";Q.inheritAttrs=!1;const Ne={},qe={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"};function De(t,s){return u(),v("svg",qe,s[0]||(s[0]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m1 13 5.7-5.326a.909.909 0 0 0 0-1.348L1 1"},null,-1)]))}const Ee=se(Ne,[["render",De]]),oe={__name:"SquareBtn",props:{isSelected:{type:Boolean,default:!1}},emits:["update-selected"],setup(t,{emit:s}){const l=t,n=s,d=()=>{n("update-selected",!l.isSelected)};return(f,p)=>(u(),v("div",{class:N(["square-btn border-4 flex justify-center items-center",{"selected bg-violet-400 border-violet-400":t.isSelected,"border-gray-400":!t.isSelected}]),onClick:d},[k(o(i(Y),{class:"font-extrabold text-white"},null,512),[[D,t.isSelected]])],2))}},ze={class:"space-y-6"},Ge={key:0},Le={key:1},Re={class:"text-lg font-medium text-gray-900"},He={class:"grid grid-cols-1 gap-4 mt-4"},Je=["value"],Ye=["value"],Ke={class:"col-span-2"},Qe={class:"flex items-center space-x-4 mt-1"},We={class:"flex space-x-4"},Xe={class:"inline-flex items-center"},Ze={class:"inline-flex items-center"},et={key:0},tt={class:"col-span-2"},at={class:"col-span-2"},lt={key:2,class:"text-right mt-6"},ie={__name:"CreateClaimForm",props:{claimData:{type:Object,default:null}},setup(t,{emit:s}){const l=t,n=y(!1),d=y(!1),f=y(!1),p=s,P=y([]),h=y([]),_=y([]),S=y(""),C=y(null),a=fe({payment_to:"",payment_type:"",payment_category:"",currency:"",amount:"",gst:"",gst_value:"",purpose:"",receipt_date:"",receipt:null}),q=y(0),b=y(),x=y(),w=()=>{a.gst==1?(j(),f.value=!0):f.value=!1},B=async(c=1)=>{try{const{data:r}=await axios.get(route("variables.fetchesGst"));q.value=r}catch(r){C.value=r}},j=()=>{console.debug("123"),a.gst_value=a.amount*q.value/100},de=()=>{n.value=!0},E=()=>{n.value=!1},ue=async()=>{d.value=!0;try{const c=new FormData;a.receipt!=null&&c.append("receipt",a.receipt);for(const[$,z]of Object.entries(a.data()))$!="receipt"&&c.append($,z);const r=l.claimData?route("claims.update",l.claimData.id):route("claims.store"),m=await axios.post(r,c,{headers:{"Content-Type":"multipart/form-data"}});U.fire({title:"Success!",text:m.data.success,icon:"success",confirmButtonText:"OK",customClass:{confirmButton:"w-32"},willClose:()=>{location.reload()}}),E(),a.reset(),p("createComplete",!0),d.value=!1}catch(c){c.response&&c.response.data.errors?a.errors=c.response.data.errors:U.fire({title:"Error!",text:"An unexpected error occurred.",icon:"error",confirmButtonText:"OK"}),d.value=!1}},me=async()=>{try{const{data:c}=await axios.get(route("currency.listShortCode"));P.value=c}catch(c){C.value=c}},pe=async()=>{try{const{data:c}=await axios.get(route("paymentCategory.listChoice"));_.value=c}catch(c){C.value=c}},ve=async()=>{try{const{data:c}=await axios.get(route("paymentReceiver.listNameAndId"));h.value=c;for(let r=0;r<h.value.length;r++)if(h.value[r].id==a.payment_to){x.value=h.value[r].name;break}}catch(c){C.value=c}};return W(()=>S.value,(c,r)=>{if(a&&"payment_to"in a){a.payment_to=c.toString();const m=h.value.find(z=>z.id===parseInt(c)),$=m?m.currency_id:null;a.currency=$}},{immediate:!0}),W(()=>l.claimData,c=>{c?(be(()=>{a.payment_to=c.payment_receiver_id}),a.payment_type=c.payment_type,a.payment_category=c.payment_category_id,a.currency=c.currency_id,a.amount=c.amount,a.gst=c.gst_amount!=0?"1":"0",a.gst_value=c.gst_amount,a.purpose=c.purpose,a.receipt_date=c.receipt_date,c.gst_amount!=0&&(f.value=!0)):a.reset()},{immediate:!0}),ye(()=>{B(),me(),pe(),ve()}),(c,r)=>(u(),v("section",ze,[o(H,{onClick:de},{default:T(()=>[M(g(l.claimData!=null?"Edit":"Create Payment"),1)]),_:1}),o(Ae,{show:n.value,onClose:E},{default:T(()=>[e("form",{onSubmit:ge(ue,["prevent"]),class:"p-5"},[d.value?(u(),v("div",Ge,[o(Te,{class:"mt-32 mb-32"})])):(u(),v("div",Le,[e("h2",Re,g(l.claimData!=null?"Edit Payment":"Create New Payment"),1),e("div",He,[e("div",null,[o(A,{for:"payment_to",value:"Payment To"}),o(je,{choices:h.value,modelValue:S.value,"onUpdate:modelValue":r[0]||(r[0]=m=>S.value=m),isEdit:l.claimData!=null,label:l.claimData!=null?x.value:"Payment Receiver",choicesIsObject:!0,ref_key:"customSelect",ref:b},null,8,["choices","modelValue","isEdit","label"]),o(O,{message:i(a).errors.payment_to,class:"mt-2"},null,8,["message"])]),e("div",null,[o(A,{for:"payment_type",value:"Payment Type"}),k(e("select",{id:"payment_type","onUpdate:modelValue":r[1]||(r[1]=m=>i(a).payment_type=m),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",required:""},r[11]||(r[11]=[e("option",{value:"",disabled:"",selected:""},"Please select Payment Type",-1),e("option",{value:"reimbursement"},"Reimbursement",-1),e("option",{value:"external_payment"},"External Payment",-1)]),512),[[G,i(a).payment_type]]),o(O,{message:i(a).errors.payment_type,class:"mt-2"},null,8,["message"])]),e("div",null,[o(A,{for:"payment_category",value:"Payment Category"}),k(e("select",{id:"currency","onUpdate:modelValue":r[2]||(r[2]=m=>i(a).payment_category=m),class:"mt-1 payment_category w-full border-gray-300 rounded-md shadow-sm",required:""},[r[12]||(r[12]=e("option",{value:"",disabled:"",selected:""},"Please select Payment Category",-1)),(u(!0),v(V,null,F(_.value,(m,$)=>(u(),v("option",{key:$,value:$,class:"capitalize"},g(m),9,Je))),128))],512),[[G,i(a).payment_category]]),o(O,{message:i(a).errors.payment_category,class:"mt-2"},null,8,["message"])]),e("div",null,[o(A,{for:"currency",value:"Currency"}),k(e("select",{id:"currency","onUpdate:modelValue":r[3]||(r[3]=m=>i(a).currency=m),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",required:""},[r[13]||(r[13]=e("option",{value:"",disabled:"",selected:""},"Please select Currency",-1)),(u(!0),v(V,null,F(P.value,(m,$)=>(u(),v("option",{key:$,value:$},g(m),9,Ye))),128))],512),[[G,i(a).currency]]),o(O,{message:i(a).errors.currency,class:"mt-2"},null,8,["message"])]),e("div",null,[o(A,{for:"amount",value:"Amount (incl. GST if any)"}),o(L,{id:"amount",modelValue:i(a).amount,"onUpdate:modelValue":r[4]||(r[4]=m=>i(a).amount=m),type:"number",step:"0.01",placeholder:"Enter amount",class:"mt-1 block w-full",required:"",onKeyup:j},null,8,["modelValue"]),o(O,{message:i(a).errors.amount,class:"mt-2"},null,8,["message"])]),e("div",null,[e("div",Ke,[o(A,{value:"GST"}),e("div",Qe,[e("div",We,[e("label",Xe,[k(e("input",{type:"radio","onUpdate:modelValue":r[5]||(r[5]=m=>i(a).gst=m),value:"1",class:"form-radio",onChange:w},null,544),[[X,i(a).gst]]),r[14]||(r[14]=e("span",{class:"ml-2"},"Yes",-1))]),e("label",Ze,[k(e("input",{type:"radio","onUpdate:modelValue":r[6]||(r[6]=m=>i(a).gst=m),value:"0",class:"form-radio",onChange:w},null,544),[[X,i(a).gst]]),r[15]||(r[15]=e("span",{class:"ml-2"},"No",-1))])]),f.value?(u(),v("div",et,[o(L,{id:"gst_value",modelValue:i(a).gst_value,"onUpdate:modelValue":r[7]||(r[7]=m=>i(a).gst_value=m),type:"number",step:"0.01",placeholder:"Enter GST amount",class:"mt-1 block w-full",required:""},null,8,["modelValue"])])):I("",!0)]),o(O,{message:i(a).errors.gst,class:"mt-2"},null,8,["message"])])]),e("div",null,[e("div",tt,[o(A,{for:"purpose",value:"Purpose of Payment"}),k(e("textarea",{id:"purpose","onUpdate:modelValue":r[8]||(r[8]=m=>i(a).purpose=m),rows:"4",placeholder:"Enter purpose of payment",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",required:""},null,512),[[_e,i(a).purpose]]),o(O,{message:i(a).errors.purpose,class:"mt-2"},null,8,["message"])])]),e("div",null,[o(A,{for:"receipt_date",value:"Date of Receipt / Invoice"}),o(L,{id:"receipt_date",modelValue:i(a).receipt_date,"onUpdate:modelValue":r[9]||(r[9]=m=>i(a).receipt_date=m),type:"date",class:"mt-1 block w-full",required:""},null,8,["modelValue"]),o(O,{message:i(a).errors.receipt_date,class:"mt-2"},null,8,["message"])]),e("div",null,[e("div",at,[o(A,{for:"receipt",value:"Upload Receipt"}),e("input",{id:"receipt",type:"file",onChange:r[10]||(r[10]=m=>i(a).receipt=m.target.files[0]),accept:".jpeg,.jpg,.pdf,.png",class:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 cursor-pointer"},null,32),o(O,{message:i(a).errors.receipt,class:"mt-2"},null,8,["message"])])])])])),d.value?I("",!0):(u(),v("div",lt,[e("button",{type:"button",onClick:E,class:"bg-white hover:bg-gray-100 text-black inline-flex items-center px-4 py-2 border rounded-md font-semibold text-xs uppercase tracking-widest focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150"}," Close "),o(H,{type:"submit",class:N(["ms-3",{"opacity-25":i(a).processing}]),disabled:i(a).processing},{default:T(()=>r[16]||(r[16]=[M(" Submit Payment ")])),_:1},8,["class","disabled"])]))],32)]),_:1},8,["show"])]))}},st={class:"flex"},nt={key:0,class:"flex justify-center items-center"},rt={class:"flex-1"},ot={class:"grid lg:grid-cols-7 grid-cols-2 gap-x-4 gap-y-4"},it={class:"col"},ct={class:""},dt={class:"col"},ut={class:""},mt={class:"col"},pt={class:"capitalize"},vt={class:"col"},ft={class:"whitespace-nowrap overflow-hidden text-ellipsis"},yt={class:"col"},gt={class:"truncate"},_t={class:"col"},bt={class:"col"},ht={class:""},xt={class:"flex justify-center items-center space-x-4"},Ct={class:"cursor-pointer hover:text-violet-600 transition-all"},St={class:"cursor-pointer hover:text-violet-600 transition-all"},ce={__name:"ClaimsListTemplate",props:{data:{type:Object,required:!0},showGroupActions:{type:Boolean,required:!1},isSelected:{type:Boolean,required:!1,default:!1}},emits:["update-selected-list"],setup(t,{emit:s}){const l=s,n=t,d=f=>{l("update-selected-list",{isSelected:f,id:n.data.id})};return(f,p)=>{var P;return u(),v("div",{class:N(["w-full flex flex-col justify-center order-last lg:order-none max-lg:mx-auto border p-5 rounded-xl overflow-hidden bg-white hover:border-violet-600 transition-all duration-500",{"bg-violet-50 border-violet-900":t.isSelected}])},[e("div",st,[t.showGroupActions?(u(),v("div",nt,[o(oe,{onUpdateSelected:d,isSelected:t.isSelected,class:"block mr-5"},null,8,["isSelected"])])):I("",!0),e("div",rt,[e("div",ot,[e("div",it,[p[0]||(p[0]=e("div",{class:"mb-1 text-xs text-gray-500"},"ID",-1)),e("div",ct,g(t.data.id),1)]),e("div",dt,[p[1]||(p[1]=e("div",{class:"mb-1 text-xs text-gray-500"},"Payment Type",-1)),e("div",ut,g(i(Pe)(t.data.payment_type)),1)]),e("div",mt,[p[2]||(p[2]=e("div",{class:"mb-1 text-xs text-gray-500"},"Payment Category",-1)),e("div",pt,g(t.data.payment_category_name),1)]),e("div",vt,[p[3]||(p[3]=e("div",{class:"mb-1 text-xs text-gray-500"},"Total Amount",-1)),e("div",ft,g(t.data.currency)+" "+g(i(ne)(t.data.amount)),1)]),e("div",yt,[p[4]||(p[4]=e("div",{class:"mb-1 text-xs text-gray-500"},"Created By",-1)),e("div",gt,g((P=t.data.created_user)==null?void 0:P.name),1)]),e("div",_t,[p[5]||(p[5]=e("div",{class:"mb-1 text-xs text-gray-500"},"Status",-1)),o(Oe,{class:"overide-fs-11 inline-block w-[140px] rounded-xl",status:t.data.status},null,8,["status"])]),e("div",bt,[p[6]||(p[6]=e("div",{class:"mb-1 text-xs text-gray-500"},"Created At",-1)),e("div",ht,g(i($e)(t.data.created_at)),1)])])]),e("div",xt,[e("button",Ct,[o(ie,{claimData:t.data},null,8,["claimData"])]),e("button",St,[o(i(he),{href:f.route("claim.details",t.data.id)},{default:T(()=>[o(Ee,{class:"text-violet-700"})]),_:1},8,["href"])])])])],2)}}},wt={key:0,class:"bg-white p-5 rounded-xl"},Pt={class:"grid grid-cols-1 sm:grid-cols-3 lg:grid-cols-3 gap-6"},$t={class:"mb-2"},kt={class:"flex justify-between"},Ot={class:"font-bold"},ae={__name:"AllClaim",props:{createCompleteSignal:{type:Number,default:!1},sortAndFilters:{type:Array,required:!1}},setup(t,{emit:s}){const l=y([]),n=({isSelected:d,id:f})=>{l.value=d?[...new Set([...l.value,f])]:l.value.filter(p=>p!==f)};return(d,f)=>(u(),v("div",null,[o(re,{apiUrl:d.route("claims.list"),createCompleteSignal:t.createCompleteSignal,sortAndFilters:t.sortAndFilters,allowSorting:!0},{"list-view":T(({data:p,apiResponse:P,fullApiResponse:h})=>[Object.keys(h.sum).length?(u(),v("div",wt,[f[1]||(f[1]=e("h2",{class:"mb-4"},"Total Amount",-1)),e("div",Pt,[(u(!0),v(V,null,F(h.sum,(_,S)=>(u(),v("div",{key:S,class:"bg-gray-100 p-6 rounded-xl shadow-md transition-all duration-500 border"},[e("p",$t,g(_.country_name)+" ("+g(S)+")",1),e("div",kt,[f[0]||(f[0]=e("span",null,"Amount:",-1)),e("span",null,[e("span",Ot,g(_.currency)+" "+g(i(ne)(_.amount)),1)])])]))),128))])])):I("",!0),(u(!0),v(V,null,F(p,_=>(u(),R(ce,{createComplete:t.createCompleteSignal,onUpdateSelectedList:n,key:_.id,data:_},null,8,["createComplete","data"]))),128))]),_:1},8,["apiUrl","createCompleteSignal","sortAndFilters"])]))}},At={key:0,class:"flex items-center w-full order-last lg:order-none max-lg:mx-auto p-5 rounded-xl overflow-hidden transition-all duration-500"},Tt={key:1,class:"mb-3"},jt={__name:"PendingClaim",props:{createCompleteSignal:{type:Number,default:!1},sortAndFilters:{type:Array,required:!1}},emits:["pendingClaimsCount"],setup(t,{emit:s}){const l=s,n=y([]),d=y(1),f=y(!1),p=y([]),P=b=>{l("pendingClaimsCount",b)},h=({isSelected:b,id:x})=>{b?n.value=[...new Set([...n.value,x])]:n.value=n.value.filter(j=>j!==x);const w=[...n.value].sort(),B=[...p.value].sort();f.value=JSON.stringify(w)===JSON.stringify(B)},_=b=>{f.value=!f.value,f.value?n.value=[...new Set([...n.value,...p.value])]:n.value=[]},S=b=>{p.value=b.map(x=>x.id)},C=()=>{U.fire({title:"Are you sure?",text:"Are you sure you want to approve these Payments?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",allowOutsideClick:!1,stopKeydownPropagation:!0,preConfirm:()=>new Promise((b,x)=>{q()})})},a=()=>{d.value++,n.value=[],f.value=!1},q=async()=>{var b,x;try{const w=await axios.post(route("claims.groupApprove",n.value.toString()));a(),U.fire({title:"Success!",text:"The claim has been successfully approved.",icon:"success",confirmButtonText:"OK"})}catch(w){U.fire({title:"Error!",text:((x=(b=w.response)==null?void 0:b.data)==null?void 0:x.error)||"An unexpected error occurred while approving the claim.",icon:"error",confirmButtonText:"OK"})}};return(b,x)=>(u(),v("div",null,[i(le)().value?(u(),v("div",Tt)):(u(),v("div",At,[k(o(oe,{onClick:x[0]||(x[0]=w=>_(b.data)),isSelected:f.value,class:"block mr-5"},null,8,["isSelected"]),[[D,p.value.length]]),o(H,{class:N(["select-none bg-violet-500 hover:bg-violet-700 active:bg-violet-700 focus:bg-violet-700 font-bold",{invisible:!n.value.length}]),onClick:C},{default:T(()=>[M(" Approve "+g(n.value.length)+" Payment(s) ",1)]),_:1},8,["class"])])),(u(),R(re,{apiUrl:b.route("claims.listPendingApproval"),createCompleteSignal:t.createCompleteSignal,key:d.value,allowSorting:!0,sortAndFilters:t.sortAndFilters,hasPaddingTop:!1},{"list-view":T(({data:w,apiResponse:B})=>[M(g(P(B.total))+" "+g(S(w))+" ",1),(u(!0),v(V,null,F(w,j=>(u(),R(ce,{key:j.id,showGroupActions:!0,createComplete:t.createCompleteSignal,data:j,isSelected:n.value.includes(j.id),onUpdateSelectedList:h},null,8,["createComplete","data","isSelected"]))),128))]),_:1},8,["apiUrl","createCompleteSignal","sortAndFilters"]))]))}},Vt={class:"flex justify-between content-center"},Ft={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 p-5 sm:p-0 mt-3",style:{"padding-top":"20px","padding-bottom":"40px"}},Bt={key:0},Ut={class:"inline-flex"},Mt=["onClick"],It={class:"flex"},Nt={key:0,class:"bg-gray-500 px-2 py-1 ml-3 text-white text-xs notification-circle rounded"},qt={class:"w-full bg-black-50 p-1 rounded-xl"},Dt={key:1},Et={__name:"Claim",setup(t){const s=y(2),l=y(0),n=y("allClaims"),d=y([{name:"allClaims",label:"All Payments",icon:Q},{name:"pendingApproval",label:"Pending Approval",icon:K}]),f=_=>n.value===_?"active bg-violet-400 text-white font-bold":"hover:bg-gray-200 text-black bg-white",p=()=>{s.value=Math.floor(Math.random()*100)+1},P=_=>{l.value=_},h=y([{display_name:"Payment ID",field_name:"id",field_type:"string"},{field_name:"payment_type",field_type:"select",options:{reimbursement:"Reimbursement",external_payment:"External Payment"}},{display_name:"Payment Category",field_name:"payment_category_id",field_type:"select",api:route("paymentCategory.listChoice")},{display_name:"Currency",field_name:"currency_id",field_type:"select",api:route("currency.listShortCode")},{display_name:"Created Date",field_name:"created_at",field_type:"date_range"},{field_name:"status",field_type:"select",api:route("approvalStatus.list")}]);return(_,S)=>(u(),v(V,null,[o(i(xe),{title:"Payments"}),o(Ce,null,{header:T(()=>[e("div",Vt,[o(we,{breadcrumbs:[{title:"Payments"}]}),o(ie,{onCreateComplete:p})])]),default:T(()=>[e("div",Ft,[i(Se)().value||i(le)().value?(u(),v("div",Bt,[e("div",Ut,[(u(!0),v(V,null,F(d.value,C=>(u(),v("span",{key:C.name,class:N([["tab-btn p-2 px-5 text-md flex justify-center items-center",f(C.name)],"flex-1 pt-5 pb-5 border border-violet-500 flex flex-col min-w-60"]),onClick:a=>n.value=C.name},[S[0]||(S[0]=e("div",null,null,-1)),e("div",It,[M(g(C.label)+" ",1),C.name=="pendingApproval"&&l.value!=0&&l.value!=null?(u(),v("span",Nt,g(i(ke)(l.value)),1)):I("",!0)])],10,Mt))),128))]),e("div",qt,[k(e("div",null,[o(jt,{createCompleteSignal:s.value,onPendingClaimsCount:P},null,8,["createCompleteSignal"])],512),[[D,n.value==="pendingApproval"]]),k(e("div",null,[o(ae,{createCompleteSignal:s.value,sortAndFilters:h.value},null,8,["createCompleteSignal","sortAndFilters"])],512),[[D,n.value==="allClaims"]])])])):(u(),v("div",Dt,[o(ae,{createCompleteSignal:s.value,sortAndFilters:h.value},null,8,["createCompleteSignal","sortAndFilters"])]))])]),_:1})],64))}},aa=se(Et,[["__scopeId","data-v-a6b9cca3"]]);export{aa as default};
