import{_ as B,a as C}from"./AuthenticatedLayout-TJA7kYzW.js";import{l as u,o as i,g as c,b as e,a,t as k,h as T,w as f,e as h,y as V,p as U,u as x,D as j,F,d as S,P as q}from"./app-kjEofN6q.js";import{S as v,L as O,N as P}from"./sweetalert2.esm.all-XKxolmLR.js";import{_ as L}from"./BreadcrumbComponent-DvFHMqau.js";import{P as w}from"./PrimaryButton-DqHQqgy5.js";import{$ as y}from"./jquery-RWEHkPW1.js";import{_ as $,a as b}from"./TextInput-D7bikoV7.js";import"./ApplicationLogo-M_mRncSF.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const E={class:"flex mb-5"},K={class:"flex justify-center items-center"},N={key:0,class:"text-red-500 text-sm mt-2"},A={__name:"SummaryReportComponent",setup(D){const l=u(""),o=u(""),s=u(""),m=async()=>{var t,r;if(s.value="",!l.value||!o.value){s.value="Both 'Date From' and 'Date To' fields are required.";return}if(new Date(o.value)<new Date(l.value)){s.value="'Date To' cannot be earlier than 'Date From'.";return}const p=route("reports.newSummaryReport",{dateFrom:l.value,dateTo:o.value});try{const n=await V.post(p,{},{responseType:"blob"}),g=new Blob([n.data],{type:n.headers["content-type"]}),d=document.createElement("a");d.href=URL.createObjectURL(g);const _=n.headers["content-disposition"],R=_?_.split("filename=")[1].replace(/"/g,""):"report.pdf";d.download=R,document.body.appendChild(d),d.click(),document.body.removeChild(d),v.fire({title:"Success!",text:"The report has been successfully downloaded.",icon:"success",confirmButtonText:"OK"})}catch(n){console.error(n),v.fire({title:"Error!",text:((r=(t=n.response)==null?void 0:t.data)==null?void 0:r.error)||"An unexpected error occurred while generating the report.",icon:"error",confirmButtonText:"OK"})}};return(p,t)=>(i(),c("div",null,[t[4]||(t[4]=e("div",{class:"flex justify-between content-center pt-2 pb-3 border-b border-gray-300 mb-6"},[e("p",{class:"font-bold"},"Transactions Report")],-1)),e("div",E,[e("div",null,[a($,{for:"receipt_date",value:"Date"}),e("div",K,[e("div",null,[a(b,{id:"date_from",modelValue:l.value,"onUpdate:modelValue":t[0]||(t[0]=r=>l.value=r),type:"date",class:"mt-1 block w-full",required:""},null,8,["modelValue"])]),t[2]||(t[2]=e("div",{class:"p-2"}," to ",-1)),e("div",null,[a(b,{id:"date_to",modelValue:o.value,"onUpdate:modelValue":t[1]||(t[1]=r=>o.value=r),type:"date",class:"mt-1 block w-full",required:""},null,8,["modelValue"])])]),s.value?(i(),c("p",N,k(s.value),1)):T("",!0)])]),a(w,{onClick:m},{default:f(()=>t[3]||(t[3]=[h("Download")])),_:1})]))}},M={class:"flex mb-5"},H={class:"flex justify-center items-center"},z={key:0,class:"text-red-500 text-sm mt-2"},G={__name:"TransactionsReportComponent",setup(D){const l=u(""),o=u(""),s=u(""),m=async()=>{var t,r;if(s.value="",!l.value||!o.value){s.value="Both 'Date From' and 'Date To' fields are required.";return}if(new Date(o.value)<new Date(l.value)){s.value="'Date To' cannot be earlier than 'Date From'.";return}const p=route("reports.transactionsReport",{dateFrom:l.value,dateTo:o.value});try{const n=await V.post(p,{},{responseType:"blob"}),g=new Blob([n.data],{type:n.headers["content-type"]}),d=document.createElement("a");d.href=URL.createObjectURL(g);const _=n.headers["content-disposition"],R=_?_.split("filename=")[1].replace(/"/g,""):"report.pdf";d.download=R,document.body.appendChild(d),d.click(),document.body.removeChild(d),v.fire({title:"Success!",text:"The report has been successfully downloaded.",icon:"success",confirmButtonText:"OK"})}catch(n){console.error(n),v.fire({title:"Error!",text:((r=(t=n.response)==null?void 0:t.data)==null?void 0:r.error)||"An unexpected error occurred while generating the report.",icon:"error",confirmButtonText:"OK"})}};return(p,t)=>(i(),c("div",null,[t[4]||(t[4]=e("div",{class:"flex justify-between content-center pt-2 pb-3 border-b border-gray-300 mb-6"},[e("p",{class:"font-bold"},"Transactions Report")],-1)),e("div",M,[e("div",null,[a($,{for:"receipt_date",value:"Date"}),e("div",H,[e("div",null,[a(b,{id:"date_from",modelValue:l.value,"onUpdate:modelValue":t[0]||(t[0]=r=>l.value=r),type:"date",class:"mt-1 block w-full",required:""},null,8,["modelValue"])]),t[2]||(t[2]=e("div",{class:"p-2"}," to ",-1)),e("div",null,[a(b,{id:"date_to",modelValue:o.value,"onUpdate:modelValue":t[1]||(t[1]=r=>o.value=r),type:"date",class:"mt-1 block w-full",required:""},null,8,["modelValue"])])]),s.value?(i(),c("p",z,k(s.value),1)):T("",!0)])]),a(w,{onClick:m},{default:f(()=>t[3]||(t[3]=[h("Download")])),_:1})]))}},I={class:"flex mb-5"},J={class:"flex justify-center items-center"},Q={key:0,class:"text-red-500 text-sm mt-2"},W={__name:"PaymentDetailReportComponent",setup(D){const l=u(""),o=u(""),s=u(""),m=async()=>{var p,t;if(s.value="",!l.value||!o.value){s.value="Both 'Date From' and 'Date To' fields are required.";return}if(new Date(o.value)<new Date(l.value)){s.value="'Date To' cannot be earlier than 'Date From'.";return}try{const r=await V.post("/api/report/download",{date_from:l.value,date_to:o.value});v.fire({title:"Success!",text:"The report has been successfully downloaded.",icon:"success",confirmButtonText:"OK"})}catch(r){v.fire({title:"Error!",text:((t=(p=r.response)==null?void 0:p.data)==null?void 0:t.error)||"An unexpected error occurred while generating the report.",icon:"error",confirmButtonText:"OK"})}};return(p,t)=>(i(),c("div",null,[t[4]||(t[4]=e("div",{class:"flex justify-between content-center pt-2 pb-3 border-b border-gray-300 mb-6"},[e("p",{class:"font-bold"},"Payment Detail Report")],-1)),e("div",I,[e("div",null,[a($,{for:"receipt_date",value:"Date"}),e("div",J,[e("div",null,[a(b,{id:"date_from",modelValue:l.value,"onUpdate:modelValue":t[0]||(t[0]=r=>l.value=r),type:"date",class:"mt-1 block w-full",required:""},null,8,["modelValue"])]),t[2]||(t[2]=e("div",{class:"p-2"}," to ",-1)),e("div",null,[a(b,{id:"date_to",modelValue:o.value,"onUpdate:modelValue":t[1]||(t[1]=r=>o.value=r),type:"date",class:"mt-1 block w-full",required:""},null,8,["modelValue"])])]),s.value?(i(),c("p",Q,k(s.value),1)):T("",!0)])]),a(w,{onClick:m},{default:f(()=>t[3]||(t[3]=[h("Download")])),_:1})]))}},X={class:"flex justify-between content-center"},Y={key:0},Z={key:0},ee={key:1},te={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 p-5 mt-5"},se={class:"flex flex-col md:flex-row m-h-10 bg-gray-100"},oe={class:"w-full md:w-3/4 bg-white"},ae={class:"space-y-4"},re={class:"tab-display","tab-name":"summaryReport"},le={class:"flex items-center"},ne={class:"flex-1 p-4"},de={class:"space-y-4"},ie={class:"tab-display","tab-name":"transactionsReport"},ce={class:"flex items-center"},ue={class:"flex-1 p-4"},me={class:"space-y-4"},pe={class:"tab-display","tab-name":"paymentDetailReport"},fe={class:"flex items-center"},ve={class:"flex-1 p-4"},be={key:1},_e={style:{"min-height":"80vh"},class:"flex flex-col justify-center items-center"},ye={class:"flex justify-center"},$e={__name:"Reports",setup(D){const l=u(!1);return U(()=>{const o=y(".tab-btn"),s=y(".tab-display"),m="active bg-violet-500 text-white";s.hide(),o.first().addClass(m),s.first().show(),y("body").on("click",".tab-btn",function(){s.hide(),o.removeClass(m),y(this).addClass(m),s.filter(`[tab-name="${y(this).attr("tab-name")}"]`).show()})}),(o,s)=>(i(),c(F,null,[a(x(S),{title:"Claims"}),a(B,null,j({default:f(()=>[x(C)().value?(i(),c("div",Y,[l.value?(i(),c("div",Z,[a(O,{class:"mt-32"})])):(i(),c("div",ee,[e("div",te,[e("div",se,[s[0]||(s[0]=e("div",{class:"w-full md:w-1/4 mb-6 md:mb-0"},[e("div",{class:"space-y-4"},[e("div",{class:"tab-btn border-4 border-white","tab-name":"summaryReport"},[e("div",{class:"flex items-center"},[e("div",{class:"flex-1 p-4"},[e("p",{class:"font-semibold"},"Summary Report")])])])]),e("div",{class:"space-y-4"},[e("div",{class:"tab-btn border-4 border-white","tab-name":"transactionsReport"},[e("div",{class:"flex items-center"},[e("div",{class:"flex-1 p-4"},[e("p",{class:"font-semibold"},"Transactions Report")])])])]),e("div",{class:"space-y-4"},[e("div",{class:"tab-btn border-4 border-white","tab-name":"paymentDetailReport"},[e("div",{class:"flex items-center"},[e("div",{class:"flex-1 p-4"},[e("p",{class:"font-semibold"},"Payment Detail Report")])])])])],-1)),e("div",oe,[e("div",ae,[e("div",re,[e("div",le,[e("div",ne,[a(A)])])])]),e("div",de,[e("div",ie,[e("div",ce,[e("div",ue,[a(G)])])])]),e("div",me,[e("div",pe,[e("div",fe,[e("div",ve,[a(W)])])])])])])])]))])):(i(),c("div",be,[e("div",_e,[a(P),e("div",ye,[a(x(q),{href:o.route("dashboard")},{default:f(()=>[a(w,{class:"p-4"},{default:f(()=>s[1]||(s[1]=[h("Back To Home Page")])),_:1})]),_:1},8,["href"])])])]))]),_:2},[x(C)().value?{name:"header",fn:f(()=>[e("div",X,[a(L,{breadcrumbs:[{title:"Reports"}]})])]),key:"0"}:void 0]),1024)],64))}};export{$e as default};
