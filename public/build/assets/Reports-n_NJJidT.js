import{_ as j,a as I}from"./AuthenticatedLayout-CLKgqApr.js";import{l as n,p as w,o as d,g as u,b as e,a as o,F as M,m as E,w as g,e as $,t as T,c as N,q as A,u as x,E as U,d as L,P as O}from"./app-BXIfDAKR.js";import{L as C,N as J}from"./LoadingComponent-Dmr1cQhH.js";import{_ as B}from"./BreadcrumbComponent-BVKp4Pl8.js";import{P as V}from"./PrimaryButton-BSw_s4e5.js";import{$ as R}from"./jquery-CsRSH9Ri.js";import{_ as S}from"./DateRangeComponent-1B8jGae-.js";import{h as F}from"./helpers-ox04jcyK.js";import{_ as P}from"./TextInput-BR_Rmd1C.js";import{C as D}from"./CustomSelectComponent-Dbg6_8g6.js";import"./ApplicationLogo-M_mRncSF.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const q={key:0},H={class:"flex mb-5"},z={__name:"SummaryReportComponent",setup(k){const s=n(["",""]),i=n(""),a=n(!1),c=["preview","test","export"],m={preview:"Preview",test:"Test Display Pdf",export:"Export PDF"},f=()=>{i.value=!Array.isArray(s.value)||!s.value.length?"Please select a date range.":""};w(s,()=>{f()});const _=()=>({reportName:"Summary Report Preview",reportType:"summaryReport",startDate:s.value[0],endDate:s.value[1]}),b=async y=>{if(f(),i.value)return;a.value=!0;const v=_(),p={preview:`${route("report.preview")}?data=${encodeURIComponent(btoa(JSON.stringify(v)))}`,test:route("reports.generateReportPreview","summaryReport"),export:route("reports.exportPDF","summaryReport")};await F(y,v,p),a.value=!1};return(y,v)=>(d(),u("div",null,[v[1]||(v[1]=e("div",{class:"flex justify-between content-center pt-2 pb-3 border-b border-gray-300 mb-6"},[e("p",{class:"font-bold"},"Summary Report")],-1)),a.value?(d(),N(C,{key:1,class:"mt-32 mb-32"})):(d(),u("div",q,[e("div",H,[o(S,{modelValue:s.value,"onUpdate:modelValue":v[0]||(v[0]=p=>s.value=p),label:"Date",additionalErrorMessage:i.value},null,8,["modelValue","additionalErrorMessage"])]),(d(),u(M,null,E(c,p=>o(V,{key:p,class:"mr-5",onClick:h=>b(p)},{default:g(()=>[$(T(m[p]),1)]),_:2},1032,["onClick"])),64))]))]))}},G={key:0},K={class:"flex mb-5"},Q={class:"mb-5"},W={class:"mb-5"},X={__name:"TransactionsReportComponent",setup(k){const s=n(["",""]),i=n([]),a=n([]),c=n(""),m=n(!1),f=n(""),_=n([]),b=n([]),y=()=>{c.value=!Array.isArray(s.value)||!s.value.length?"Please select a date range.":""};w(s,()=>{y()});const v=async()=>{if(y(),c.value)return;const l=btoa(JSON.stringify({reportName:"Transactions Report Preview",reportType:"transactionReport",startDate:s.value[0],endDate:s.value[1],payment_to:a.value.join(","),claim_ids_filters:i.value.join(",")}));window.open(`${route("report.preview")}?data=${encodeURIComponent(l)}`,"_blank")},p=async()=>{m.value=!0;try{const{data:l}=await axios.get(route("paymentReceiver.listNameAndId"));_.value=l}catch(l){f.value=l}finally{m.value=!1}},h=async()=>{m.value=!0;let l=route("claims.listIds");const t=a.value=="All"?"":a.value;if(t!==""){const r=new URLSearchParams({payment_to:t});l+=`?${r.toString()}`}try{const{data:r}=await axios.get(l);b.value=r}catch(r){f.value=r}finally{m.value=!1}};return w(a,(l,t)=>{JSON.stringify(l)!==JSON.stringify(t)&&(h(),i.value=[])},{deep:!0}),A(()=>{p(),h()}),(l,t)=>(d(),u("div",null,[t[4]||(t[4]=e("div",{class:"flex justify-between content-center pt-2 pb-3 border-b border-gray-300 mb-6"},[e("p",{class:"font-bold"},"Transactions Report")],-1)),m.value?(d(),N(C,{key:1,class:"mt-32 mb-32"})):(d(),u("div",G,[e("div",K,[o(S,{modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=r=>s.value=r),label:"Date",additionalErrorMessage:c.value},null,8,["modelValue","additionalErrorMessage"])]),e("div",Q,[o(P,{for:"payment_to",value:"Payment Receivers"}),o(D,{choices:_.value,modelValue:a.value,"onUpdate:modelValue":t[1]||(t[1]=r=>a.value=r),label:"Payment Receivers",choicesIsObject:!0,allowAllChoice:!0,allowMultiChoice:!0},null,8,["choices","modelValue"])]),e("div",W,[o(P,{for:"claim_ids_filters",value:"Payment IDs"}),o(D,{choices:b.value,allowMultiChoice:!0,modelValue:i.value,"onUpdate:modelValue":t[2]||(t[2]=r=>i.value=r),label:"Payment IDs",allowAllChoice:!0},null,8,["choices","modelValue"])]),o(V,{onClick:v},{default:g(()=>t[3]||(t[3]=[$("Preview")])),_:1})]))]))}},Y={key:0},Z={class:"flex mb-5"},ee={class:"mb-5"},te={class:"mb-5"},ae={__name:"PaymentDetailReportComponent",setup(k){const s=n(["",""]),i=n([]),a=n([]),c=n(""),m=n(!1),f=n(""),_=n([]),b=n([]),y=()=>{c.value=!Array.isArray(s.value)||!s.value.length?"Please select a date range.":""};w(s,()=>{y()});const v=async()=>{if(y(),c.value)return;const l=btoa(JSON.stringify({reportName:"Payment Detail Report Preview",reportType:"paymentDetailReportReport",startDate:s.value[0],endDate:s.value[1],payment_to:a.value.join(","),claim_ids_filters:i.value.join(",")}));window.open(`${route("report.preview")}?data=${encodeURIComponent(l)}`,"_blank")},p=async()=>{m.value=!0;try{const{data:l}=await axios.get(route("paymentReceiver.listNameAndId"));_.value=l}catch(l){f.value=l}finally{m.value=!1}},h=async()=>{m.value=!0;let l=route("claims.listIds");const t=a.value=="All"?"":a.value;if(t!==""){const r=new URLSearchParams({payment_to:t});l+=`?${r.toString()}`}try{const{data:r}=await axios.get(l);b.value=r}catch(r){f.value=r}finally{m.value=!1}};return w(a,(l,t)=>{JSON.stringify(l)!==JSON.stringify(t)&&(h(),i.value=[])},{deep:!0}),A(()=>{p(),h()}),(l,t)=>(d(),u("div",null,[t[4]||(t[4]=e("div",{class:"flex justify-between content-center pt-2 pb-3 border-b border-gray-300 mb-6"},[e("p",{class:"font-bold"},"Payment Detail Report")],-1)),m.value?(d(),N(C,{key:1,class:"mt-32 mb-32"})):(d(),u("div",Y,[e("div",Z,[o(S,{modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=r=>s.value=r),label:"Date",additionalErrorMessage:c.value},null,8,["modelValue","additionalErrorMessage"])]),e("div",ee,[o(P,{for:"payment_to",value:"Payment Receiver"}),o(D,{choices:_.value,modelValue:a.value,"onUpdate:modelValue":t[1]||(t[1]=r=>a.value=r),label:"Payment Receiver",choicesIsObject:!0,allowAllChoice:!0},null,8,["choices","modelValue"])]),e("div",te,[o(P,{for:"claim_ids_filters",value:"Payment ID"}),o(D,{choices:b.value,modelValue:i.value,"onUpdate:modelValue":t[2]||(t[2]=r=>i.value=r),label:"Payment ID",allowAllChoice:!0},null,8,["choices","modelValue"])]),o(V,{onClick:v},{default:g(()=>t[3]||(t[3]=[$("Preview")])),_:1})]))]))}},se={class:"flex justify-between content-center"},oe={key:0},le={key:0},re={key:1},ne={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 p-5 mt-5"},ie={class:"flex flex-col md:flex-row m-h-10 bg-gray-100"},de={class:"w-full md:w-3/4 bg-white"},ce={class:"space-y-4"},me={class:"tab-display","tab-name":"summaryReport"},ue={class:"flex items-center"},ve={class:"flex-1 p-4"},pe={class:"space-y-4"},fe={class:"tab-display","tab-name":"transactionsReport"},ye={class:"flex items-center"},_e={class:"flex-1 p-4"},be={class:"space-y-4"},ge={class:"tab-display","tab-name":"paymentDetailReport"},he={class:"flex items-center"},Re={class:"flex-1 p-4"},we={key:1},xe={style:{"min-height":"80vh"},class:"flex flex-col justify-center items-center"},Pe={class:"flex justify-center"},Te={__name:"Reports",setup(k){const s=n(!1);return A(()=>{const i=R(".tab-btn"),a=R(".tab-display"),c="active bg-violet-500 text-white";a.hide(),i.first().addClass(c),a.first().show(),R("body").on("click",".tab-btn",function(){a.hide(),i.removeClass(c),R(this).addClass(c),a.filter(`[tab-name="${R(this).attr("tab-name")}"]`).show()})}),(i,a)=>(d(),u(M,null,[o(x(L),{title:"Reports"}),o(j,null,U({default:g(()=>[x(I)().value?(d(),u("div",oe,[s.value?(d(),u("div",le,[o(C,{class:"mt-32"})])):(d(),u("div",re,[e("div",ne,[e("div",ie,[a[0]||(a[0]=e("div",{class:"w-full md:w-1/4 mb-6 md:mb-0"},[e("div",{class:"space-y-4"},[e("div",{class:"tab-btn border-4 border-white","tab-name":"summaryReport"},[e("div",{class:"flex items-center"},[e("div",{class:"flex-1 p-4"},[e("p",{class:"font-semibold"},"Summary Report")])])])]),e("div",{class:"space-y-4"},[e("div",{class:"tab-btn border-4 border-white","tab-name":"transactionsReport"},[e("div",{class:"flex items-center"},[e("div",{class:"flex-1 p-4"},[e("p",{class:"font-semibold"},"Transactions Report")])])])]),e("div",{class:"space-y-4"},[e("div",{class:"tab-btn border-4 border-white","tab-name":"paymentDetailReport"},[e("div",{class:"flex items-center"},[e("div",{class:"flex-1 p-4"},[e("p",{class:"font-semibold"},"Payment Detail Report")])])])])],-1)),e("div",de,[e("div",ce,[e("div",me,[e("div",ue,[e("div",ve,[o(z)])])])]),e("div",pe,[e("div",fe,[e("div",ye,[e("div",_e,[o(X)])])])]),e("div",be,[e("div",ge,[e("div",he,[e("div",Re,[o(ae)])])])])])])])]))])):(d(),u("div",we,[e("div",xe,[o(J),e("div",Pe,[o(x(O),{href:i.route("dashboard")},{default:g(()=>[o(V,{class:"p-4"},{default:g(()=>a[1]||(a[1]=[$("Back To Home Page")])),_:1})]),_:1},8,["href"])])])]))]),_:2},[x(I)().value?{name:"header",fn:g(()=>[e("div",se,[o(B,{breadcrumbs:[{title:"Reports"}]})])]),key:"0"}:void 0]),1024)],64))}};export{Te as default};
