import{L as $,S as h,b as N}from"./sweetalert2.esm.all-BBtUs681.js";import{k as c,C as B,l as P,o as f,g as _,a as o,w as v,e as x,t as d,b as e,f as S,u as l,n as V,i as j}from"./app-D3wxWcDe.js";import{_ as O,a as U,b as E}from"./TextInput-aNO9Ssik.js";import{_ as L}from"./Modal-BSUPLnB0.js";import{P as b}from"./PrimaryButton-DD1i1uYw.js";const M={class:"space-y-6"},T={key:0},q={class:"text-lg font-medium text-gray-900"},F={class:"grid grid-cols-1 gap-4 mt-4"},A={class:"text-right mt-6"},K={key:1},z={__name:"PaymentCategoryForm",props:{userData:{type:Object,default:null}},setup(r,{emit:p}){const a=r,i=c(!1),n=c(!1),u=p;c([]),c(null);const t=B({name:""});P(()=>a.userData,s=>{s?t.name=s.name:t.reset()},{immediate:!0});const C=()=>{n.value=!1},g=()=>{n.value=!n.value},w=async()=>{i.value=!0;try{const s=new FormData;for(const[D,k]of Object.entries(t.data()))s.append(D,k);const m=a.userData?route("paymentCategory.update",a.userData.id):route("paymentCategory.create"),oe=await axios["post"](m,s);h.fire({title:"Success!",text:a.userData?"User updated successfully":"User created successfully",icon:"success",confirmButtonText:"OK"}),C(),t.reset(),u("createComplete",!0)}catch(s){console.log(s),s.response&&s.response.data.errors?t.errors=s.response.data.errors:h.fire({title:"Error!",text:"An unexpected error occurred.",icon:"error",confirmButtonText:"OK"})}finally{i.value=!1}};return(s,m)=>(f(),_("section",M,[o(b,{onClick:g},{default:v(()=>[x(d(a.userData?"Edit":"Create"),1)]),_:1}),o(L,{show:n.value,onClose:g},{default:v(()=>[e("form",{onSubmit:S(w,["prevent"]),class:"p-6 space-y-4"},[i.value?(f(),_("div",K,[o($,{class:"mt-32 mb-32"})])):(f(),_("div",T,[e("h2",q,d(a.userData?"Edit Payment Category":"Create a New Payment Category"),1),e("div",F,[e("div",null,[o(O,{for:"name",value:"Name"}),o(U,{id:"name",modelValue:l(t).name,"onUpdate:modelValue":m[0]||(m[0]=y=>l(t).name=y),placeholder:"Full Name",class:"mt-1 block w-full",required:""},null,8,["modelValue"]),o(E,{message:l(t).errors.name,class:"mt-2"},null,8,["message"])])]),e("div",A,[e("button",{type:"button",onClick:g,class:"bg-white hover:bg-gray-100 text-black inline-flex items-center px-4 py-2 border rounded-md font-semibold text-xs uppercase tracking-widest focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150"}," Close "),o(b,{type:"submit",class:V(["ms-3",{"opacity-25":l(t).processing}]),disabled:l(t).processing},{default:v(()=>[x(d(a.userData?"Update":"Submit"),1)]),_:1},8,["class","disabled"])])]))],32)]),_:1},8,["show"])]))}},G={class:"w-full flex flex-col justify-center order-last lg:order-none max-lg:mx-auto border p-3 rounded-xl overflow-hidden bg-white hover:border-violet-600 transition-all duration-500"},H={class:"flex"},I={class:"flex-1"},J={class:"grid lg:grid-cols-2 grid-cols-2 gap-x-4 gap-y-4"},Q={class:"col"},R={class:"row"},W={class:"col"},X={class:""},Y={class:"col"},Z={class:"row"},ee={class:"col"},te={class:""},se={class:"flex justify-center items-center"},ae={class:"cursor-pointer hover:text-violet-600 transition-all"},de={__name:"PaymentCategoryListTemplate",props:{data:{type:Object,required:!0}},setup(r,{emit:p}){const a=p,i=r;c(!1),j(()=>i.order.items.reduce((u,t)=>u+t.quantity,0));const n=()=>{a("createComplete",!0)};return(u,t)=>(f(),_("div",G,[e("div",H,[e("div",I,[e("div",J,[e("div",Q,[t[0]||(t[0]=e("div",{class:"row"},[e("div",{class:"col-auto"},[e("div",{class:"mb-1 text-xs text-gray-500"},"Name")])],-1)),e("div",R,[e("div",W,[e("div",X,d(r.data.name),1)])])]),e("div",Y,[t[1]||(t[1]=e("div",{class:"row"},[e("div",{class:"col-auto"},[e("div",{class:"mb-1 text-xs text-gray-500"},"Created At")])],-1)),e("div",Z,[e("div",ee,[e("div",te,d(l(N)(r.data.created_at)),1)])])])])]),e("div",se,[e("button",ae,[o(z,{userData:r.data,onCreateComplete:n},null,8,["userData"])])])])]))}};export{z as _,de as a};
