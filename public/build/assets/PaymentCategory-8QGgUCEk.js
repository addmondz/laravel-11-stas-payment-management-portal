import{k as l,C as q,D as E,o as c,g as d,a as s,w as C,e as F,t as u,b as e,f as T,u as h,n as $,i as R,l as A,F as N,x as K,d as z,p as I,h as G,c as H}from"./app-1Z8-0ieN.js";import{_ as J}from"./AuthenticatedLayout-CTxPhiEH.js";import{S,b as Q,L as W,N as U}from"./sweetalert2.esm.all-DGRDATcK.js";import{_ as X,a as Y,b as Z}from"./TextInput-B3mTvAA3.js";import{_ as ee}from"./Modal-Bh0bWHcc.js";import{P as j}from"./PrimaryButton-DMla4g2d.js";import{_ as B}from"./FilterDropdown-DWbJ_T-u.js";import{_ as te}from"./BreadcrumbComponent-C7VOl9IQ.js";import"./ApplicationLogo-M_mRncSF.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const se={class:"space-y-6"},ae={class:"text-lg font-medium text-gray-900"},oe={class:"grid grid-cols-1 gap-4 mt-4"},le={class:"text-right mt-6"},L={__name:"PaymmentCategoryForm",props:{userData:{type:Object,default:null}},setup(m,{emit:x}){const r=m,v=l(!1),b=x;l([]),l(null);const a=q({name:""});E(()=>r.userData,n=>{n?a.name=n.name:a.reset()},{immediate:!0});const o=()=>{v.value=!1},_=()=>{v.value=!v.value},g=async()=>{try{const n=new FormData;for(const[y,w]of Object.entries(a.data()))n.append(y,w);const t=r.userData?route("paymentCategory.update",r.userData.id):route("paymentCategory.create"),k=await axios["post"](t,n);S.fire({title:"Success!",text:r.userData?"User updated successfully":"User created successfully",icon:"success",confirmButtonText:"OK"}),o(),a.reset(),b("createComplete",!0)}catch(n){console.log(n),n.response&&n.response.data.errors?a.errors=n.response.data.errors:S.fire({title:"Error!",text:"An unexpected error occurred.",icon:"error",confirmButtonText:"OK"})}};return(n,t)=>(c(),d("section",se,[s(j,{onClick:_},{default:C(()=>[F(u(r.userData?"Edit":"Create"),1)]),_:1}),s(ee,{show:v.value,onClose:_},{default:C(()=>[e("form",{onSubmit:T(g,["prevent"]),class:"p-6 space-y-4"},[e("h2",ae,u(r.userData?"Edit Payment Category":"Create a New Payment Category"),1),e("div",oe,[e("div",null,[s(X,{for:"name",value:"Name"}),s(Y,{id:"name",modelValue:h(a).name,"onUpdate:modelValue":t[0]||(t[0]=f=>h(a).name=f),placeholder:"Full Name",class:"mt-1 block w-full",required:""},null,8,["modelValue"]),s(Z,{message:h(a).errors.name,class:"mt-2"},null,8,["message"])])]),e("div",le,[e("button",{type:"button",onClick:_,class:"bg-white hover:bg-gray-100 text-black inline-flex items-center px-4 py-2 border rounded-md font-semibold text-xs uppercase tracking-widest focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150"}," Close "),s(j,{type:"submit",class:$(["ms-3",{"opacity-25":h(a).processing}]),disabled:h(a).processing},{default:C(()=>[F(u(r.userData?"Update":"Submit"),1)]),_:1},8,["class","disabled"])])],32)]),_:1},8,["show"])]))}},re={class:"w-full flex flex-col justify-center order-last lg:order-none max-lg:mx-auto border p-5 rounded-xl overflow-hidden bg-white hover:border-violet-600 transition-all duration-500"},ne={class:"flex"},ie={class:"flex-1"},ce={class:"grid lg:grid-cols-3 grid-cols-2 gap-x-4 gap-y-4"},de={class:"col"},ue={class:"row"},me={class:"col"},ve={class:""},_e={class:"col"},pe={class:"row"},ge={class:"col"},fe={class:""},ye={class:"col"},he={class:"row"},xe={class:"col"},be={class:""},Ce={class:"flex justify-center items-center"},we={class:"cursor-pointer hover:text-violet-600 transition-all"},$e={__name:"PaymentCategoryListTemplate",props:{data:{type:Object,required:!0}},setup(m,{emit:x}){const r=x,v=m;l(!1),R(()=>v.order.items.reduce((a,o)=>a+o.quantity,0));const b=()=>{r("createComplete",!0)};return(a,o)=>(c(),d("div",re,[e("div",ne,[e("div",ie,[e("div",ce,[e("div",de,[o[0]||(o[0]=e("div",{class:"row"},[e("div",{class:"col-auto"},[e("div",{class:"mb-1 text-xs text-gray-500"},"ID")])],-1)),e("div",ue,[e("div",me,[e("div",ve,u(m.data.id),1)])])]),e("div",_e,[o[1]||(o[1]=e("div",{class:"row"},[e("div",{class:"col-auto"},[e("div",{class:"mb-1 text-xs text-gray-500"},"Name")])],-1)),e("div",pe,[e("div",ge,[e("div",fe,u(m.data.name),1)])])]),e("div",ye,[o[2]||(o[2]=e("div",{class:"row"},[e("div",{class:"col-auto"},[e("div",{class:"mb-1 text-xs text-gray-500"},"Created At")])],-1)),e("div",he,[e("div",xe,[e("div",be,u(h(Q)(m.data.created_at)),1)])])])])]),e("div",Ce,[e("button",we,[s(L,{userData:m.data,onCreateComplete:b},null,8,["userData"])])])])]))}},ke={class:"flex justify-between content-center"},De={key:0},Pe={key:1},Ve={key:0,class:"py-12"},Fe={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 p-5 sm:p-0"},Ne={class:"grid md:grid-cols-4 gap-4 mb-5 hidden"},Se={class:"grid md:grid-cols gap-4 mb-5"},Ue={key:0},je={class:"flex justify-between w-full"},Be={class:"flex justify-end flex-1"},Le=["disabled"],Me=["disabled"],Oe={key:1},Je={__name:"PaymentCategory",setup(m){const x=l(!0),r=l([]),v=l([]),b=l([]),a=l(null),o=l(null),_=l(null),g=l(null),n=l(9),t=l(1),f=l(0),k=route("paymentCategory.list"),y=async(V=1)=>{try{const p=new URLSearchParams({limit:n.value,page:V,brand:o.value??"",category:_.value??""}).toString(),{data:i}=await K.get(`${k}?${p}`);r.value=i.data.data,g.value=i.data,f.value=i.data.last_page}catch(p){a.value=p}finally{x.value=!1}};A(()=>{y(t.value)});const w=()=>{t.value>=f.value||(t.value+=1,y(t.value))},M=()=>{t.value<=1||(t.value-=1,y(t.value))},D=()=>{t.value=1,y(t.value)},O=()=>{o.value=null,_.value=null,D()},P=()=>{y(t.value)};return(V,p)=>(c(),d(N,null,[s(h(z),{title:"Users"}),s(J,null,{header:C(()=>[e("div",ke,[s(te,{breadcrumbs:[{title:"Settings"},{title:"Payment Category"}]}),s(L,{onCreateComplete:P})])]),default:C(()=>[x.value?(c(),d("div",De,[s(W,{class:"mt-32"})])):(c(),d("div",Pe,[g.value?(c(),d("div",Ve,[e("div",Fe,[e("div",Ne,[s(B,{class:"w-full mr-5",label:"a brand",modelValue:o.value,"onUpdate:modelValue":p[0]||(p[0]=i=>o.value=i),options:b.value},null,8,["modelValue","options"]),s(B,{class:"w-full mr-5",label:"a category",modelValue:_.value,"onUpdate:modelValue":p[1]||(p[1]=i=>_.value=i),options:v.value},null,8,["modelValue","options"]),e("button",{class:"bg-gray-500 hover:bg-gray-700 text-white py-2 px-4 rounded ml-2",onClick:O},"Reset Filters"),e("button",{class:"bg-violet-500 hover:bg-violet-700 text-white py-2 px-4 rounded ml-2",onClick:D},"Search")]),e("div",Se,[(c(!0),d(N,null,I(r.value,i=>(c(),H($e,{onCreateComplete:P,key:i.id,data:i},null,8,["data"]))),128))]),r.value.length===0||r.value==[]?(c(),d("div",Ue,[s(U)])):G("",!0),e("div",je,[e("div",null,[e("p",null,"Showing "+u(g.value.from??0)+" to "+u(g.value.to??0)+" of "+u(g.value.total)+" entries ",1)]),e("div",Be,[e("button",{class:$(["bg-white hover:bg-gray-200 text-gray py-2 px-4 rounded ml-2",[{"cursor-not-allowed":t.value==1}]]),onClick:M,disabled:t.value==1},"Previous Page",10,Le),e("button",{class:$(["bg-black hover:bg-gray-700 text-white py-2 px-4 rounded ml-2",[{"cursor-not-allowed":t.value==f.value}]]),disabled:t.value==f.value,onClick:w},"Next Page",10,Me)])])])])):(c(),d("div",Oe,[s(U)]))]))]),_:1})],64))}};export{Je as default};
