import{a as p,k as v,o as s,g as d,w,b as i,F as S,l as x,t as g,u as b,h as N,c as O,e as L,m as V,d as B,j as I,p as $,n as D}from"./app-8qHOInRu.js";import{i as T,_ as E,g as q}from"./AuthenticatedLayout-BuqczPA4.js";import{I as z,_ as G}from"./BreadcrumbComponent-CJooVs05.js";import{_ as M,a as J}from"./ClaimsListTemplate-DHJhJuME.js";import{_ as H}from"./ListComponent-DN6Y-WBR.js";import{f as R,a as W}from"./helpers-7ztThxD1.js";import{_ as Q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./StatusLabel-CUxJPX0A.js";import"./InputError-Be1d6Wxz.js";import"./TextInput-1HxUY7Mj.js";import"./Modal-C2Bh-08M.js";import"./PrimaryButton-RQ79ov32.js";import"./NotFound-BeJXgkZ9.js";import"./CustomSelectComponent-CICjJsDA.js";import"./PaymentVoucherForm-DrSw4O96.js";import"./DateRangeComponent-CBauHnrN.js";var X={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M945 412H689c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h256c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM811 548H689c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h122c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM477.3 322.5H434c-6.2 0-11.2 5-11.2 11.2v248c0 3.6 1.7 6.9 4.6 9l148.9 108.6c5 3.6 12 2.6 15.6-2.4l25.7-35.1v-.1c3.6-5 2.5-12-2.5-15.6l-126.7-91.6V333.7c.1-6.2-5-11.2-11.1-11.2z"}},{tag:"path",attrs:{d:"M804.8 673.9H747c-5.6 0-10.9 2.9-13.9 7.7a321 321 0 01-44.5 55.7 317.17 317.17 0 01-101.3 68.3c-39.3 16.6-81 25-124 25-43.1 0-84.8-8.4-124-25-37.9-16-72-39-101.3-68.3s-52.3-63.4-68.3-101.3c-16.6-39.2-25-80.9-25-124 0-43.1 8.4-84.7 25-124 16-37.9 39-72 68.3-101.3 29.3-29.3 63.4-52.3 101.3-68.3 39.2-16.6 81-25 124-25 43.1 0 84.8 8.4 124 25 37.9 16 72 39 101.3 68.3a321 321 0 0144.5 55.7c3 4.8 8.3 7.7 13.9 7.7h57.8c6.9 0 11.3-7.2 8.2-13.3-65.2-129.7-197.4-214-345-215.7-216.1-2.7-395.6 174.2-396 390.1C71.6 727.5 246.9 903 463.2 903c149.5 0 283.9-84.6 349.8-215.8a9.18 9.18 0 00-8.2-13.3z"}}]},name:"field-time",theme:"outlined"};function j(a){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},l=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(l=l.concat(Object.getOwnPropertySymbols(t).filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),l.forEach(function(n){Y(a,n,t[n])})}return a}function Y(a,e,t){return e in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}var P=function(e,t){var l=j({},e,t.attrs);return p(z,j({},l,{icon:X}),null)};P.displayName="FieldTimeOutlined";P.inheritAttrs=!1;var Z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M752 240H144c-17.7 0-32 14.3-32 32v608c0 17.7 14.3 32 32 32h608c17.7 0 32-14.3 32-32V272c0-17.7-14.3-32-32-32zm-40 600H184V312h528v528zm168-728H264c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h576v576c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V144c0-17.7-14.3-32-32-32zM300 550h296v64H300z"}}]},name:"switcher",theme:"outlined"};function k(a){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},l=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(l=l.concat(Object.getOwnPropertySymbols(t).filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),l.forEach(function(n){K(a,n,t[n])})}return a}function K(a,e,t){return e in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}var F=function(e,t){var l=k({},e,t.attrs);return p(z,k({},l,{icon:Z}),null)};F.displayName="SwitcherOutlined";F.inheritAttrs=!1;const ee={key:0,class:"bg-white p-5 rounded-xl"},te={class:"grid grid-cols-1 sm:grid-cols-3 lg:grid-cols-3 gap-6"},le={class:"mb-2"},ae={class:"flex justify-between"},ne={class:"font-bold"},U={__name:"AllClaim",props:{createCompleteSignal:{type:Number,default:!1},sortAndFilters:{type:Array,required:!1}},setup(a,{emit:e}){const t=e,l=v([]),n=({isSelected:o,id:u})=>{l.value=o?[...new Set([...l.value,u])]:l.value.filter(f=>f!==u)},y=o=>{t("createComplete",!0)},h=o=>{l.value=o};return(o,u)=>(s(),d("div",null,[p(H,{apiUrl:o.route("claims.list"),createCompleteSignal:a.createCompleteSignal,sortAndFilters:a.sortAndFilters,allowSorting:!0,showFiltersOutside:!0,allowSelectAll:!1,"onUpdate:wholeSelectedIds":h,isAllClaims:!0,selectedIds:l.value},{"list-view":w(({data:f,apiResponse:c,fullApiResponse:m})=>[Object.keys(m.total_sum_by_country).length?(s(),d("div",ee,[u[1]||(u[1]=i("h2",{class:"mb-4"},"Total Amount",-1)),i("div",te,[(s(!0),d(S,null,x(m.total_sum_by_country,(r,_)=>(s(),d("div",{key:_,class:"bg-gray-100 p-6 rounded-xl shadow-md transition-all duration-500 border"},[i("p",le,g(r.country_name)+" ("+g(_)+")",1),i("div",ae,[u[0]||(u[0]=i("span",null,"Amount:",-1)),i("span",null,[i("span",ne,g(r.currency)+" "+g(b(R)(r.amount)),1)])])]))),128))])])):N("",!0),(s(!0),d(S,null,x(f,r=>(s(),O(M,{createComplete:a.createCompleteSignal,onCreateComplete:y,onUpdateSelectedList:n,key:r.id,data:r,isSelected:l.value.includes(r.id),showGroupActions:!1},null,8,["createComplete","data","isSelected"]))),128))]),_:1},8,["apiUrl","createCompleteSignal","sortAndFilters","selectedIds"])]))}},re={__name:"PendingClaim",props:{createCompleteSignal:{type:Number,default:!1},sortAndFilters:{type:Array,required:!1}},emits:["pendingClaimsCount"],setup(a,{emit:e}){const t=v([]),l=e,n=v([]),y=v(1),h=v(0),o=m=>{l("pendingClaimsCount",m)},u=m=>{n.value=m},f=({isSelected:m,id:r})=>{m?n.value=[...new Set([...n.value,r])]:n.value=n.value.filter(C=>C!==r);const _=[...n.value].sort(),A=[...t.value].sort();h.value=JSON.stringify(_)===JSON.stringify(A)},c=m=>{l("createComplete",!0)};return(m,r)=>(s(),d("div",null,[(s(),O(H,{apiUrl:m.route("claims.listPendingApproval"),createCompleteSignal:a.createCompleteSignal,key:y.value,allowSorting:!0,sortAndFilters:a.sortAndFilters,allowSelectAll:!0,selectedIds:n.value,"onUpdate:wholeSelectedIds":u,showFiltersOutside:!0},{"list-view":w(({data:_,apiResponse:A})=>[L(g(o(A.total))+" ",1),(s(!0),d(S,null,x(_,C=>(s(),O(M,{createComplete:a.createCompleteSignal,onCreateComplete:c,onUpdateSelectedList:f,key:C.id,showGroupActions:!0,data:C,isSelected:n.value.includes(C.id)},null,8,["createComplete","data","isSelected"]))),128))]),_:1},8,["apiUrl","createCompleteSignal","sortAndFilters","selectedIds"]))]))}},se={class:"flex justify-between content-center"},ie={class:"max-w-8xl mx-auto sm:px-6 lg:px-8 p-5 sm:p-0 mt-3",style:{"padding-top":"20px","padding-bottom":"40px"}},oe={key:0},ce={class:"inline-flex max-w-full"},de=["onClick"],me={class:"flex"},ue={class:"flex justify-center items-center"},pe={key:0,class:"bg-gray-500 px-2 py-1 ml-3 text-white text-xs notification-circle rounded"},ve={class:"w-full bg-black-50 p-1 rounded-xl"},fe={key:1},_e={__name:"Claim",setup(a){const e=v(2),t=v(0),l=v(localStorage.getItem("activeTab")||"allClaims"),n=v([{name:"allClaims",label:"All Payments",icon:F},{name:"pendingApproval",label:T().value?"Pending Action":"Pending Approval",icon:P}]),y=c=>l.value===c?"active bg-violet-400 text-white font-bold":"hover:bg-gray-200 text-black bg-white",h=c=>{l.value=c,localStorage.setItem("activeTab",c)},o=()=>{e.value=Math.floor(Math.random()*100)+1},u=c=>{t.value=c},f=v([{display_name:"Payment ID",field_name:"id",field_type:"string"},{field_name:"payment_type",field_type:"select",options:{reimbursement:"Reimbursement",external_payment:"External Payment"}},{field_name:"approval_level",field_type:"select",options:{0:"L1",1:"L2",2:"L3"}},{display_name:"Payment Category",field_name:"payment_category_id",field_type:"select",api:route("paymentCategory.listChoice")},{display_name:"Payment To",field_name:"payment_receiver_id",field_type:"select",api:route("paymentReceiver.listIdToName")},{display_name:"Currency",field_name:"currency_id",field_type:"select",api:route("currency.listShortCode")},{display_name:"Created Date",field_name:"created_at",field_type:"date_range"},{field_name:"status",field_type:"select",api:route("approvalStatus.list")}]);return V(()=>{const c=localStorage.getItem("activeTab");c&&(l.value=c)}),(c,m)=>(s(),d(S,null,[p(b(B),{title:"Payments"}),p(E,null,{header:w(()=>[i("div",se,[p(G,{breadcrumbs:[{title:"Payments"}]}),p(J,{onCreateComplete:o})])]),default:w(()=>[i("div",ie,[b(q)().value||b(T)().value?(s(),d("div",oe,[i("div",ce,[(s(!0),d(S,null,x(n.value,r=>(s(),d("span",{key:r.name,class:D([["tab-btn p-2 px-5 text-md flex justify-center items-center",y(r.name)],"flex-1 pt-5 pb-5 border border-violet-500 flex flex-col sm:min-w-60"]),onClick:_=>h(r.name)},[i("div",me,[L(g(r.label)+" ",1),i("div",ue,[r.name=="pendingApproval"&&t.value!=0&&t.value!=null?(s(),d("span",pe,g(b(W)(t.value)),1)):N("",!0)])])],10,de))),128))]),i("div",ve,[I(i("div",null,[p(re,{createCompleteSignal:e.value,onPendingClaimsCount:u,onCreateComplete:o,sortAndFilters:f.value},null,8,["createCompleteSignal","sortAndFilters"])],512),[[$,l.value==="pendingApproval"]]),I(i("div",null,[p(U,{createCompleteSignal:e.value,onCreateComplete:o,sortAndFilters:f.value},null,8,["createCompleteSignal","sortAndFilters"])],512),[[$,l.value==="allClaims"]])])])):(s(),d("div",fe,[p(U,{createCompleteSignal:e.value,sortAndFilters:f.value,onCreateComplete:o},null,8,["createCompleteSignal","sortAndFilters"])]))])]),_:1})],64))}},ke=Q(_e,[["__scopeId","data-v-2463eeb0"]]);export{ke as default};
