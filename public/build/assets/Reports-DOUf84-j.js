import{_ as j,a as I}from"./AuthenticatedLayout-C8IHU1QR.js";import{l as i,p as w,o as d,g as m,b as e,a as l,F as M,m as E,w as g,e as $,t as T,c as N,q as A,u as x,E as U,d as L,P as O}from"./app-BzKgNnrk.js";import{L as C,N as J}from"./LoadingComponent-pJ9iWeFy.js";import{_ as B}from"./BreadcrumbComponent-BvqCtxwe.js";import{P as V}from"./PrimaryButton-DcAw6Xgt.js";import{$ as R}from"./jquery-R26V66Qs.js";import{_ as S}from"./DateRangeComponent-BIWZRiOq.js";import{h as F}from"./helpers-DAS99h_r.js";import{_ as P}from"./TextInput-B3bUKTj-.js";import{C as D}from"./CustomSelectComponent-Hv3zaxrK.js";import"./ApplicationLogo-M_mRncSF.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const q={key:0},H={class:"flex mb-5"},z={__name:"SummaryReportComponent",setup(k){const a=i(["",""]),n=i(""),s=i(!1),c=["preview","test","export"],u={preview:"Preview",test:"Test Display Pdf",export:"Export PDF"},f=()=>{!Array.isArray(a.value)||!a.value.length||a.value[0]===""&&a.value[1]===""?n.value="Please select a date range.":n.value=""};w(a,()=>{f()});const _=()=>({reportName:"Summary Report Preview",reportType:"summaryReport",startDate:a.value[0],endDate:a.value[1]}),b=async y=>{if(f(),n.value)return;s.value=!0;const v=_(),p={preview:`${route("report.preview")}?data=${encodeURIComponent(btoa(JSON.stringify(v)))}`,test:route("reports.generateReportPreview","summaryReport"),export:route("reports.exportPDF","summaryReport")};await F(y,v,p),s.value=!1};return(y,v)=>(d(),m("div",null,[v[1]||(v[1]=e("div",{class:"flex justify-between content-center pt-2 pb-3 border-b border-gray-300 mb-6"},[e("p",{class:"font-bold"},"Summary Report")],-1)),s.value?(d(),N(C,{key:1,class:"mt-32 mb-32"})):(d(),m("div",q,[e("div",H,[l(S,{modelValue:a.value,"onUpdate:modelValue":v[0]||(v[0]=p=>a.value=p),label:"Date",additionalErrorMessage:n.value},null,8,["modelValue","additionalErrorMessage"])]),(d(),m(M,null,E(c,p=>l(V,{key:p,class:"mr-5",onClick:h=>b(p)},{default:g(()=>[$(T(u[p]),1)]),_:2},1032,["onClick"])),64))]))]))}},G={key:0},K={class:"flex mb-5"},Q={class:"mb-5"},W={class:"mb-5"},X={__name:"TransactionsReportComponent",setup(k){const a=i(["",""]),n=i([]),s=i([]),c=i(""),u=i(!1),f=i(""),_=i([]),b=i([]),y=()=>{c.value=!Array.isArray(a.value)||!a.value.length?"Please select a date range.":""};w(a,()=>{y()});const v=async()=>{if(y(),c.value)return;const o=btoa(JSON.stringify({reportName:"Transactions Report Preview",reportType:"transactionReport",startDate:a.value[0],endDate:a.value[1],payment_to:s.value.join(","),claim_ids_filters:n.value.join(",")}));window.open(`${route("report.preview")}?data=${encodeURIComponent(o)}`,"_blank")},p=async()=>{u.value=!0;try{const{data:o}=await axios.get(route("paymentReceiver.listNameAndId"));_.value=o}catch(o){f.value=o}finally{u.value=!1}},h=async()=>{u.value=!0;let o=route("claims.listIds");const t=s.value=="All"?"":s.value;if(t!==""){const r=new URLSearchParams({payment_to:t});o+=`?${r.toString()}`}try{const{data:r}=await axios.get(o);b.value=r}catch(r){f.value=r}finally{u.value=!1}};return w(s,(o,t)=>{JSON.stringify(o)!==JSON.stringify(t)&&(h(),n.value=[])},{deep:!0}),A(()=>{p(),h()}),(o,t)=>(d(),m("div",null,[t[4]||(t[4]=e("div",{class:"flex justify-between content-center pt-2 pb-3 border-b border-gray-300 mb-6"},[e("p",{class:"font-bold"},"Transactions Report")],-1)),u.value?(d(),N(C,{key:1,class:"mt-32 mb-32"})):(d(),m("div",G,[e("div",K,[l(S,{modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=r=>a.value=r),label:"Date",additionalErrorMessage:c.value},null,8,["modelValue","additionalErrorMessage"])]),e("div",Q,[l(P,{for:"payment_to",value:"Payment Receivers"}),l(D,{choices:_.value,modelValue:s.value,"onUpdate:modelValue":t[1]||(t[1]=r=>s.value=r),label:"Payment Receivers",choicesIsObject:!0,allowAllChoice:!0,allowMultiChoice:!0},null,8,["choices","modelValue"])]),e("div",W,[l(P,{for:"claim_ids_filters",value:"Payment IDs"}),l(D,{choices:b.value,allowMultiChoice:!0,modelValue:n.value,"onUpdate:modelValue":t[2]||(t[2]=r=>n.value=r),label:"Payment IDs",allowAllChoice:!0},null,8,["choices","modelValue"])]),l(V,{onClick:v},{default:g(()=>t[3]||(t[3]=[$("Preview")])),_:1})]))]))}},Y={key:0},Z={class:"flex mb-5"},ee={class:"mb-5"},te={class:"mb-5"},ae={__name:"PaymentDetailReportComponent",setup(k){const a=i(["",""]),n=i([]),s=i([]),c=i(""),u=i(!1),f=i(""),_=i([]),b=i([]),y=()=>{c.value=!Array.isArray(a.value)||!a.value.length?"Please select a date range.":""};w(a,()=>{y()});const v=async()=>{if(y(),c.value)return;const o=btoa(JSON.stringify({reportName:"Payment Detail Report Preview",reportType:"paymentDetailReportReport",startDate:a.value[0],endDate:a.value[1],payment_to:s.value.join(","),claim_ids_filters:n.value.join(",")}));window.open(`${route("report.preview")}?data=${encodeURIComponent(o)}`,"_blank")},p=async()=>{u.value=!0;try{const{data:o}=await axios.get(route("paymentReceiver.listNameAndId"));_.value=o}catch(o){f.value=o}finally{u.value=!1}},h=async()=>{u.value=!0;let o=route("claims.listIds");const t=s.value=="All"?"":s.value;if(t!==""){const r=new URLSearchParams({payment_to:t});o+=`?${r.toString()}`}try{const{data:r}=await axios.get(o);b.value=r}catch(r){f.value=r}finally{u.value=!1}};return w(s,(o,t)=>{JSON.stringify(o)!==JSON.stringify(t)&&(h(),n.value=[])},{deep:!0}),A(()=>{p(),h()}),(o,t)=>(d(),m("div",null,[t[4]||(t[4]=e("div",{class:"flex justify-between content-center pt-2 pb-3 border-b border-gray-300 mb-6"},[e("p",{class:"font-bold"},"Payment Detail Report")],-1)),u.value?(d(),N(C,{key:1,class:"mt-32 mb-32"})):(d(),m("div",Y,[e("div",Z,[l(S,{modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=r=>a.value=r),label:"Date",additionalErrorMessage:c.value},null,8,["modelValue","additionalErrorMessage"])]),e("div",ee,[l(P,{for:"payment_to",value:"Payment Receiver"}),l(D,{choices:_.value,modelValue:s.value,"onUpdate:modelValue":t[1]||(t[1]=r=>s.value=r),label:"Payment Receiver",choicesIsObject:!0,allowAllChoice:!0},null,8,["choices","modelValue"])]),e("div",te,[l(P,{for:"claim_ids_filters",value:"Payment ID"}),l(D,{choices:b.value,modelValue:n.value,"onUpdate:modelValue":t[2]||(t[2]=r=>n.value=r),label:"Payment ID",allowAllChoice:!0},null,8,["choices","modelValue"])]),l(V,{onClick:v},{default:g(()=>t[3]||(t[3]=[$("Preview")])),_:1})]))]))}},se={class:"flex justify-between content-center"},le={key:0},oe={key:0},re={key:1},ne={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 p-5 mt-5"},ie={class:"flex flex-col md:flex-row m-h-10 bg-gray-100"},de={class:"w-full md:w-3/4 bg-white"},ce={class:"space-y-4"},ue={class:"tab-display","tab-name":"summaryReport"},me={class:"flex items-center"},ve={class:"flex-1 p-4"},pe={class:"space-y-4"},fe={class:"tab-display","tab-name":"transactionsReport"},ye={class:"flex items-center"},_e={class:"flex-1 p-4"},be={class:"space-y-4"},ge={class:"tab-display","tab-name":"paymentDetailReport"},he={class:"flex items-center"},Re={class:"flex-1 p-4"},we={key:1},xe={style:{"min-height":"80vh"},class:"flex flex-col justify-center items-center"},Pe={class:"flex justify-center"},Te={__name:"Reports",setup(k){const a=i(!1);return A(()=>{const n=R(".tab-btn"),s=R(".tab-display"),c="active bg-violet-500 text-white";s.hide(),n.first().addClass(c),s.first().show(),R("body").on("click",".tab-btn",function(){s.hide(),n.removeClass(c),R(this).addClass(c),s.filter(`[tab-name="${R(this).attr("tab-name")}"]`).show()})}),(n,s)=>(d(),m(M,null,[l(x(L),{title:"Reports"}),l(j,null,U({default:g(()=>[x(I)().value?(d(),m("div",le,[a.value?(d(),m("div",oe,[l(C,{class:"mt-32"})])):(d(),m("div",re,[e("div",ne,[e("div",ie,[s[0]||(s[0]=e("div",{class:"w-full md:w-1/4 mb-6 md:mb-0"},[e("div",{class:"space-y-4"},[e("div",{class:"tab-btn border-4 border-white","tab-name":"summaryReport"},[e("div",{class:"flex items-center"},[e("div",{class:"flex-1 p-4"},[e("p",{class:"font-semibold"},"Summary Report")])])])]),e("div",{class:"space-y-4"},[e("div",{class:"tab-btn border-4 border-white","tab-name":"transactionsReport"},[e("div",{class:"flex items-center"},[e("div",{class:"flex-1 p-4"},[e("p",{class:"font-semibold"},"Transactions Report")])])])]),e("div",{class:"space-y-4"},[e("div",{class:"tab-btn border-4 border-white","tab-name":"paymentDetailReport"},[e("div",{class:"flex items-center"},[e("div",{class:"flex-1 p-4"},[e("p",{class:"font-semibold"},"Payment Detail Report")])])])])],-1)),e("div",de,[e("div",ce,[e("div",ue,[e("div",me,[e("div",ve,[l(z)])])])]),e("div",pe,[e("div",fe,[e("div",ye,[e("div",_e,[l(X)])])])]),e("div",be,[e("div",ge,[e("div",he,[e("div",Re,[l(ae)])])])])])])])]))])):(d(),m("div",we,[e("div",xe,[l(J),e("div",Pe,[l(x(O),{href:n.route("dashboard")},{default:g(()=>[l(V,{class:"p-4"},{default:g(()=>s[1]||(s[1]=[$("Back To Home Page")])),_:1})]),_:1},8,["href"])])])]))]),_:2},[x(I)().value?{name:"header",fn:g(()=>[e("div",se,[l(B,{breadcrumbs:[{title:"Reports"}]})])]),key:"0"}:void 0]),1024)],64))}};export{Te as default};
