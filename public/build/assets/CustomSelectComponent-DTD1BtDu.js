import{o as i,g as r,b as d,t as n,j as y,y as b,F as u,s as h,n as a,f as w,h as p,B as C}from"./app-oZQmN5iZ.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";const g={props:{choices:{type:Array,default:()=>[]},modelValue:{type:[Array,String],default:()=>[]},allowMultiChoice:{type:Boolean,default:!1},label:{type:String,default:""},choicesIsObject:{type:Boolean,default:!1},allowAllChoice:{type:Boolean,default:!1},isEdit:{type:Boolean,default:!1}},data(){return{selectedFruits:[...this.modelValue],searchQuery:"",showDropdown:!1,allOptions:{id:"All",name:"All"}}},computed:{filteredChoices(){var t;return(t=this.choices)!=null&&t.length?this.choices.filter(s=>String(this.choicesIsObject&&typeof s=="object"?s.name:s).toLowerCase().includes(this.searchQuery.toLowerCase())):[]}},watch:{choices(t,s){this.selectedFruits=[]}},methods:{handleClickOutside(t){this.$refs.dropdown&&!this.$refs.dropdown.contains(t.target)&&this.$refs.dropdown.querySelector("input")&&!this.$refs.dropdown.querySelector("input").contains(t.target)&&(this.closeDropDown(),document.removeEventListener("mousedown",this.handleClickOutside))},selectFruit(t){if(t==="All")this.selectedFruits=["All"];else if(this.allowMultiChoice){const s=this.selectedFruits.indexOf(t);if(s>-1)this.selectedFruits.splice(s,1);else{this.selectedFruits.push(t);const c=this.selectedFruits.indexOf("All");c>-1&&this.selectedFruits.splice(c,1)}}else this.selectedFruits=[t];this.allowMultiChoice||this.closeDropDown()},closeDropDown(){this.showDropdown=!1,this.$emit("update:modelValue",this.selectedFruits)},openDropDown(){this.showDropdown=!0,this.showDropdown?document.addEventListener("mousedown",this.handleClickOutside):document.removeEventListener("mousedown",this.handleClickOutside)},getFruitName(t){const s=this.choices.find(c=>c.id===t);return s?s.name:t}}},k={class:"p-2"},v={key:0,class:"absolute w-full bg-white border border-black rounded mt-1 z-10 rounded-md shadow-2xl"},D={class:"p-2"},_={key:0},x={key:0,class:"max-h-40 overflow-y-auto"},O=["onClick"],A=["onClick"],S={key:1,class:"max-h-40 overflow-y-auto"},B=["onClick"],V=["onClick"],j={key:1};function E(t,s,c,L,l,o){return i(),r("div",null,[d("div",{ref:"dropdown",onClick:s[1]||(s[1]=(...e)=>o.openDropDown&&o.openDropDown(...e)),onKeydown:s[2]||(s[2]=C((...e)=>o.closeDropDown&&o.closeDropDown(...e),["esc"])),class:"mt-1 border-gray-300 border rounded-md shadow-sm w-72 relative cursor-pointer w-full"},[d("div",k,n(l.selectedFruits.length?l.selectedFruits.map(e=>o.getFruitName(e)).join(", "):c.isEdit?c.label:"Select "+c.label),1),l.showDropdown?(i(),r("div",v,[d("div",D,[y(d("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=e=>l.searchQuery=e),placeholder:"Search...",class:"w-full p-2 border-b outline-none rounded-md"},null,512),[[b,l.searchQuery]])]),o.filteredChoices.length?(i(),r("div",_,[c.choicesIsObject?(i(),r("ul",x,[c.allowAllChoice?(i(!0),r(u,{key:0},h([l.allOptions],(e,f)=>(i(),r("li",{key:e.id,class:a(["p-2 px-4 cursor-pointer",{"bg-blue-200":l.selectedFruits.includes(e.id),"hover:bg-gray-100":!l.selectedFruits.includes(e.id)}]),onClick:w(m=>o.selectFruit(e.id),["stop"])},n(e.name),11,O))),128)):p("",!0),(i(!0),r(u,null,h(o.filteredChoices,(e,f)=>(i(),r("li",{key:e.id,class:a(["p-2 px-4 cursor-pointer",{"bg-blue-200":l.selectedFruits.includes(e.id),"hover:bg-gray-100":!l.selectedFruits.includes(e.id)}]),onClick:w(m=>o.selectFruit(e.id),["stop"])},n(e.name),11,A))),128))])):(i(),r("ul",S,[(i(),r(u,null,h(["All"],(e,f)=>d("li",{key:e,class:a(["p-2 px-4 cursor-pointer",{"bg-blue-200":l.selectedFruits.includes(e),"hover:bg-gray-100":!l.selectedFruits.includes(e)}]),onClick:w(m=>o.selectFruit(e),["stop"])},n(e),11,B)),64)),(i(!0),r(u,null,h(o.filteredChoices,(e,f)=>(i(),r("li",{key:e,class:a(["p-2 px-4 cursor-pointer",{"bg-blue-200":l.selectedFruits.includes(e),"hover:bg-gray-100":!l.selectedFruits.includes(e)}]),onClick:w(m=>o.selectFruit(e),["stop"])},n(e),11,V))),128))]))])):(i(),r("div",j,s[3]||(s[3]=[d("p",{class:"px-4 py-2 cursor-default",style:{color:"#36344d","font-size":"14px"}},"No matching options",-1)])))])):p("",!0)],544)])}const Q=F(g,[["render",E]]);export{Q as C};
