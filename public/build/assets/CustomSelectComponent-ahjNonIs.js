import{o as l,g as r,b as d,t as n,j as y,y as C,F as u,m as h,n as a,f as p,h as w}from"./app-Ccn2jf6i.js";import{_ as g}from"./_plugin-vue_export-helper-DlAUqK2U.js";const F={props:{choices:{type:Array,default:()=>[]},modelValue:{type:[Array,String],default:()=>[]},allowMultiChoice:{type:Boolean,default:!1},label:{type:String,default:""},choicesIsObject:{type:Boolean,default:!1},allowAllChoice:{type:Boolean,default:!1}},data(){return{selectedFruits:[...this.modelValue],searchQuery:"",showDropdown:!1,allOptions:{id:"All",name:"All"}}},computed:{filteredChoices(){return!Array.isArray(this.choices)||this.choices.length===0?[]:this.choices.filter(t=>String(t).toLowerCase().includes(this.searchQuery.toLowerCase()))}},methods:{handleClickOutside(t){this.$refs.dropdown&&!this.$refs.dropdown.contains(t.target)&&this.$refs.dropdown.querySelector("input")&&!this.$refs.dropdown.querySelector("input").contains(t.target)&&(this.closeDropDown(),document.removeEventListener("mousedown",this.handleClickOutside))},selectFruit(t){if(t==="All")this.selectedFruits=["All"];else if(this.allowMultiChoice){const i=this.selectedFruits.indexOf(t);if(i>-1)this.selectedFruits.splice(i,1);else{this.selectedFruits.push(t);const c=this.selectedFruits.indexOf("All");c>-1&&this.selectedFruits.splice(c,1)}}else this.selectedFruits=[t];this.allowMultiChoice||this.closeDropDown()},closeDropDown(){this.showDropdown=!1,this.$emit("update:modelValue",this.selectedFruits)},openDropDown(){this.showDropdown=!0,this.showDropdown?document.addEventListener("mousedown",this.handleClickOutside):document.removeEventListener("mousedown",this.handleClickOutside)},getFruitName(t){const i=this.choices.find(c=>c.id===t);return i?i.name:t}}},b={class:"p-2"},k={key:0,class:"absolute w-full bg-white border border-black rounded mt-1 z-10 rounded-md shadow-2xl"},_={class:"p-2"},v={key:0},x={key:0,class:"max-h-40 overflow-y-auto"},D=["onClick"],A=["onClick"],O={key:1,class:"max-h-40 overflow-y-auto"},S=["onClick"],B=["onClick"],L={key:1};function V(t,i,c,M,s,o){return l(),r("div",null,[d("div",{ref:"dropdown",onClick:i[1]||(i[1]=(...e)=>o.openDropDown&&o.openDropDown(...e)),class:"mt-1 border-gray-300 border rounded-md shadow-sm w-72 relative cursor-pointer w-full"},[d("div",b,n(s.selectedFruits.length?s.selectedFruits.map(e=>o.getFruitName(e)).join(", "):"Select "+c.label),1),s.showDropdown?(l(),r("div",k,[d("div",_,[y(d("input",{type:"text","onUpdate:modelValue":i[0]||(i[0]=e=>s.searchQuery=e),placeholder:"Search...",class:"w-full p-2 border-b outline-none rounded-md"},null,512),[[C,s.searchQuery]])]),o.filteredChoices.length?(l(),r("div",v,[c.choicesIsObject?(l(),r("ul",x,[c.allowAllChoice?(l(!0),r(u,{key:0},h([s.allOptions],(e,f)=>(l(),r("li",{key:e.id,class:a(["p-2 px-4 cursor-pointer",{"bg-blue-200":s.selectedFruits.includes(e.id),"hover:bg-gray-100":!s.selectedFruits.includes(e.id)}]),onClick:p(m=>o.selectFruit(e.id),["stop"])},n(e.name),11,D))),128)):w("",!0),(l(!0),r(u,null,h(o.filteredChoices,(e,f)=>(l(),r("li",{key:e.id,class:a(["p-2 px-4 cursor-pointer",{"bg-blue-200":s.selectedFruits.includes(e.id),"hover:bg-gray-100":!s.selectedFruits.includes(e.id)}]),onClick:p(m=>o.selectFruit(e.id),["stop"])},n(e.name),11,A))),128))])):(l(),r("ul",O,[(l(),r(u,null,h(["All"],(e,f)=>d("li",{key:e,class:a(["p-2 px-4 cursor-pointer",{"bg-blue-200":s.selectedFruits.includes(e),"hover:bg-gray-100":!s.selectedFruits.includes(e)}]),onClick:p(m=>o.selectFruit(e),["stop"])},n(e),11,S)),64)),(l(!0),r(u,null,h(o.filteredChoices,(e,f)=>(l(),r("li",{key:e,class:a(["p-2 px-4 cursor-pointer",{"bg-blue-200":s.selectedFruits.includes(e),"hover:bg-gray-100":!s.selectedFruits.includes(e)}]),onClick:p(m=>o.selectFruit(e),["stop"])},n(e),11,B))),128))]))])):(l(),r("div",L,i[2]||(i[2]=[d("p",{class:"px-4 py-2 cursor-default",style:{color:"#36344d","font-size":"14px"}},"No matching options",-1)])))])):w("",!0)],512)])}const E=g(F,[["render",V]]);export{E as C};
