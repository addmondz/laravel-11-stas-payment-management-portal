import{_ as B,a as V}from"./AuthenticatedLayout-qQ87oyzP.js";import{l as i,o as n,g as d,b as e,a,t as D,h as g,w as m,e as x,y as T,p as F,u as b,D as j,F as U,d as q,P as S}from"./app-LKfWmQQb.js";import{S as y,L as P,N}from"./sweetalert2.esm.all-CDM85XJA.js";import{_ as L}from"./BreadcrumbComponent-DE2erlz2.js";import{P as w}from"./PrimaryButton-ClWNgt1_.js";import{$ as _}from"./jquery-1dMj1g1Z.js";import{_ as R,a as f}from"./TextInput-DzS5lgsn.js";import"./ApplicationLogo-M_mRncSF.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const O={class:"flex mb-5"},E={class:"flex justify-center items-center"},K={key:0,class:"text-red-500 text-sm mt-2"},M={__name:"SummaryReportComponent",setup(h){const l=i(""),o=i(""),s=i(""),c=async()=>{if(s.value="",!l.value||!o.value){s.value="Both 'Date From' and 'Date To' fields are required.";return}if(new Date(o.value)<new Date(l.value)){s.value="'Date To' cannot be earlier than 'Date From'.";return}const u=route("reports.summaryReport",{dateFrom:l.value,dateTo:o.value});console.log(u)};return(u,t)=>(n(),d("div",null,[t[4]||(t[4]=e("div",{class:"flex justify-between content-center pt-2 pb-3 border-b border-gray-300 mb-6"},[e("p",{class:"font-bold"},"Summary Report")],-1)),e("div",O,[e("div",null,[a(R,{for:"receipt_date",value:"Date"}),e("div",E,[e("div",null,[a(f,{id:"date_from",modelValue:l.value,"onUpdate:modelValue":t[0]||(t[0]=r=>l.value=r),type:"date",class:"mt-1 block w-full",required:""},null,8,["modelValue"])]),t[2]||(t[2]=e("div",{class:"p-2"}," to ",-1)),e("div",null,[a(f,{id:"date_to",modelValue:o.value,"onUpdate:modelValue":t[1]||(t[1]=r=>o.value=r),type:"date",class:"mt-1 block w-full",required:""},null,8,["modelValue"])])]),s.value?(n(),d("p",K,D(s.value),1)):g("",!0)])]),a(w,{onClick:c},{default:m(()=>t[3]||(t[3]=[x("Download")])),_:1})]))}},A={class:"flex mb-5"},H={class:"flex justify-center items-center"},z={key:0,class:"text-red-500 text-sm mt-2"},G={__name:"TransactionsReportComponent",setup(h){const l=i(""),o=i(""),s=i(""),c=async()=>{var t,r;if(s.value="",!l.value||!o.value){s.value="Both 'Date From' and 'Date To' fields are required.";return}if(new Date(o.value)<new Date(l.value)){s.value="'Date To' cannot be earlier than 'Date From'.";return}const u=route("reports.transactionsReport",{dateFrom:l.value,dateTo:o.value});try{const p=await T.post(u,{},{responseType:"blob"}),$=new Blob([p.data],{type:p.headers["content-type"]}),v=document.createElement("a");v.href=URL.createObjectURL($);const k=p.headers["content-disposition"],C=k?k.split("filename=")[1].replace(/"/g,""):"report.pdf";v.download=C,document.body.appendChild(v),v.click(),document.body.removeChild(v),y.fire({title:"Success!",text:"The report has been successfully downloaded.",icon:"success",confirmButtonText:"OK"})}catch(p){console.error(p),y.fire({title:"Error!",text:((r=(t=p.response)==null?void 0:t.data)==null?void 0:r.error)||"An unexpected error occurred while generating the report.",icon:"error",confirmButtonText:"OK"})}};return(u,t)=>(n(),d("div",null,[t[4]||(t[4]=e("div",{class:"flex justify-between content-center pt-2 pb-3 border-b border-gray-300 mb-6"},[e("p",{class:"font-bold"},"Transactions Report")],-1)),e("div",A,[e("div",null,[a(R,{for:"receipt_date",value:"Date"}),e("div",H,[e("div",null,[a(f,{id:"date_from",modelValue:l.value,"onUpdate:modelValue":t[0]||(t[0]=r=>l.value=r),type:"date",class:"mt-1 block w-full",required:""},null,8,["modelValue"])]),t[2]||(t[2]=e("div",{class:"p-2"}," to ",-1)),e("div",null,[a(f,{id:"date_to",modelValue:o.value,"onUpdate:modelValue":t[1]||(t[1]=r=>o.value=r),type:"date",class:"mt-1 block w-full",required:""},null,8,["modelValue"])])]),s.value?(n(),d("p",z,D(s.value),1)):g("",!0)])]),a(w,{onClick:c},{default:m(()=>t[3]||(t[3]=[x("Download")])),_:1})]))}},I={class:"flex mb-5"},J={class:"flex justify-center items-center"},Q={key:0,class:"text-red-500 text-sm mt-2"},W={__name:"PaymentDetailReportComponent",setup(h){const l=i(""),o=i(""),s=i(""),c=async()=>{var u,t;if(s.value="",!l.value||!o.value){s.value="Both 'Date From' and 'Date To' fields are required.";return}if(new Date(o.value)<new Date(l.value)){s.value="'Date To' cannot be earlier than 'Date From'.";return}try{const r=await T.post("/api/report/download",{date_from:l.value,date_to:o.value});y.fire({title:"Success!",text:"The report has been successfully downloaded.",icon:"success",confirmButtonText:"OK"})}catch(r){y.fire({title:"Error!",text:((t=(u=r.response)==null?void 0:u.data)==null?void 0:t.error)||"An unexpected error occurred while generating the report.",icon:"error",confirmButtonText:"OK"})}};return(u,t)=>(n(),d("div",null,[t[4]||(t[4]=e("div",{class:"flex justify-between content-center pt-2 pb-3 border-b border-gray-300 mb-6"},[e("p",{class:"font-bold"},"Payment Detail Report")],-1)),e("div",I,[e("div",null,[a(R,{for:"receipt_date",value:"Date"}),e("div",J,[e("div",null,[a(f,{id:"date_from",modelValue:l.value,"onUpdate:modelValue":t[0]||(t[0]=r=>l.value=r),type:"date",class:"mt-1 block w-full",required:""},null,8,["modelValue"])]),t[2]||(t[2]=e("div",{class:"p-2"}," to ",-1)),e("div",null,[a(f,{id:"date_to",modelValue:o.value,"onUpdate:modelValue":t[1]||(t[1]=r=>o.value=r),type:"date",class:"mt-1 block w-full",required:""},null,8,["modelValue"])])]),s.value?(n(),d("p",Q,D(s.value),1)):g("",!0)])]),a(w,{onClick:c},{default:m(()=>t[3]||(t[3]=[x("Download")])),_:1})]))}},X={class:"flex justify-between content-center"},Y={key:0},Z={key:0},ee={key:1},te={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 p-5 mt-5"},se={class:"flex flex-col md:flex-row m-h-10 bg-gray-100"},oe={class:"w-full md:w-3/4 bg-white"},ae={class:"space-y-4"},le={class:"tab-display","tab-name":"summaryReport"},re={class:"flex items-center"},ne={class:"flex-1 p-4"},de={class:"space-y-4"},ie={class:"tab-display","tab-name":"transactionsReport"},ce={class:"flex items-center"},ue={class:"flex-1 p-4"},me={class:"space-y-4"},pe={class:"tab-display","tab-name":"paymentDetailReport"},fe={class:"flex items-center"},ve={class:"flex-1 p-4"},_e={key:1},be={style:{"min-height":"80vh"},class:"flex flex-col justify-center items-center"},ye={class:"flex justify-center"},$e={__name:"Reports",setup(h){const l=i(!1);return F(()=>{const o=_(".tab-btn"),s=_(".tab-display"),c="active bg-violet-500 text-white";s.hide(),o.first().addClass(c),s.first().show(),_("body").on("click",".tab-btn",function(){s.hide(),o.removeClass(c),_(this).addClass(c),s.filter(`[tab-name="${_(this).attr("tab-name")}"]`).show()})}),(o,s)=>(n(),d(U,null,[a(b(q),{title:"Claims"}),a(B,null,j({default:m(()=>[b(V)().value?(n(),d("div",Y,[l.value?(n(),d("div",Z,[a(P,{class:"mt-32"})])):(n(),d("div",ee,[e("div",te,[e("div",se,[s[0]||(s[0]=e("div",{class:"w-full md:w-1/4 mb-6 md:mb-0"},[e("div",{class:"space-y-4"},[e("div",{class:"tab-btn border-4 border-white","tab-name":"summaryReport"},[e("div",{class:"flex items-center"},[e("div",{class:"flex-1 p-4"},[e("p",{class:"font-semibold"},"Summary Report")])])])]),e("div",{class:"space-y-4"},[e("div",{class:"tab-btn border-4 border-white","tab-name":"transactionsReport"},[e("div",{class:"flex items-center"},[e("div",{class:"flex-1 p-4"},[e("p",{class:"font-semibold"},"Transactions Report")])])])]),e("div",{class:"space-y-4"},[e("div",{class:"tab-btn border-4 border-white","tab-name":"paymentDetailReport"},[e("div",{class:"flex items-center"},[e("div",{class:"flex-1 p-4"},[e("p",{class:"font-semibold"},"Payment Detail Report")])])])])],-1)),e("div",oe,[e("div",ae,[e("div",le,[e("div",re,[e("div",ne,[a(M)])])])]),e("div",de,[e("div",ie,[e("div",ce,[e("div",ue,[a(G)])])])]),e("div",me,[e("div",pe,[e("div",fe,[e("div",ve,[a(W)])])])])])])])]))])):(n(),d("div",_e,[e("div",be,[a(N),e("div",ye,[a(b(S),{href:o.route("dashboard")},{default:m(()=>[a(w,{class:"p-4"},{default:m(()=>s[1]||(s[1]=[x("Back To Home Page")])),_:1})]),_:1},8,["href"])])])]))]),_:2},[b(V)().value?{name:"header",fn:m(()=>[e("div",X,[a(L,{breadcrumbs:[{title:"Reports"}]})])]),key:"0"}:void 0]),1024)],64))}};export{$e as default};
