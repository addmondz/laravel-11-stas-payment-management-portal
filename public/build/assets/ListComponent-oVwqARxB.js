import{a as i,o as l,g as a,j as O,z as oe,u as Y,n as ne,k as v,l as R,m as de,w as I,e as z,b as n,h as A,c as V,F as $,q as P,t as k,p as B,B as L,A as Z,r as ce}from"./app-Crv_tdMO.js";import{L as J,N as ee}from"./NotFound-DpQXrR2E.js";import{M as me}from"./Modal-d9sL123_.js";import{P as K}from"./PrimaryButton-DybS_Og5.js";import{_ as M}from"./InputError-FM5P1hiL.js";import{_ as E,a as N}from"./TextInput-DNpNwl7-.js";import{_ as te}from"./DateRangeComponent-pvnoteVQ.js";import{I as re}from"./BreadcrumbComponent-o9AnQdR-.js";import{i as ve}from"./AuthenticatedLayout-C-PCHlhW.js";import{S as H}from"./helpers-Dfv42kUO.js";var pe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"};function le(s){for(var r=1;r<arguments.length;r++){var d=arguments[r]!=null?Object(arguments[r]):{},c=Object.keys(d);typeof Object.getOwnPropertySymbols=="function"&&(c=c.concat(Object.getOwnPropertySymbols(d).filter(function(t){return Object.getOwnPropertyDescriptor(d,t).enumerable}))),c.forEach(function(t){fe(s,t,d[t])})}return s}function fe(s,r,d){return r in s?Object.defineProperty(s,r,{value:d,enumerable:!0,configurable:!0,writable:!0}):s[r]=d,s}var Q=function(r,d){var c=le({},r,d.attrs);return i(re,le({},c,{icon:pe}),null)};Q.displayName="CheckOutlined";Q.inheritAttrs=!1;var ye={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"};function se(s){for(var r=1;r<arguments.length;r++){var d=arguments[r]!=null?Object(arguments[r]):{},c=Object.keys(d);typeof Object.getOwnPropertySymbols=="function"&&(c=c.concat(Object.getOwnPropertySymbols(d).filter(function(t){return Object.getOwnPropertyDescriptor(d,t).enumerable}))),c.forEach(function(t){ge(s,t,d[t])})}return s}function ge(s,r,d){return r in s?Object.defineProperty(s,r,{value:d,enumerable:!0,configurable:!0,writable:!0}):s[r]=d,s}var W=function(r,d){var c=se({},r,d.attrs);return i(re,se({},c,{icon:ye}),null)};W.displayName="SearchOutlined";W.inheritAttrs=!1;const be={__name:"SquareBtn",props:{isSelected:{type:Boolean,default:!1}},emits:["update-selected"],setup(s,{emit:r}){const d=s,c=r,t=()=>{c("update-selected",!d.isSelected)};return(T,U)=>(l(),a("div",{class:ne(["square-btn border-4 flex justify-center items-center",{"selected bg-violet-400 border-violet-400":s.isSelected,"border-gray-400":!s.isSelected}]),onClick:t},[O(i(Y(Q),{class:"font-extrabold text-white"},null,512),[[oe,s.isSelected]])],2))}},_e={key:0},he={class:"p-6"},we={key:0},ke={key:1},xe={class:"grid grid-cols-1 gap-4 mt-4"},Se=["onUpdate:modelValue","id"],Fe={value:"",disabled:"",selected:""},Ae=["value"],Oe={key:0},Ce={class:"flex"},Ve=["value"],$e=["disabled"],Ue={class:"mt-6 flex justify-between"},Pe={key:0,class:"text-right"},Be=["show"],je={class:"border border-gray-300 rounded-2xl p-6 bg-white mt-5",style:{"margin-bottom":"-30px"}},qe={key:0},Ie={key:1},Le={class:"grid grid-cols-1 gap-8 mt-4 sm:grid-cols-2 lg:grid-cols-3"},Ne=["onUpdate:modelValue","id"],Te={value:"",disabled:"",selected:""},Me=["value"],Ee={key:0,class:"col-span-full space-y-2"},Re={class:"grid grid-cols-1 gap-8 mt-4 sm:grid-cols-2 lg:grid-cols-3"},ze=["value"],Ke=["disabled"],De={class:"mt-6 flex justify-between"},Ge={key:0,class:"grid grid-cols-1 gap-4 mt-4 sm:grid-cols-2 lg:grid-cols-3"},ae={__name:"SortAndFilterComponent",props:{sortAndFilters:{type:Array,default:()=>[]},allowSorting:{type:Boolean,default:!0},showFiltersOutside:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})}},setup(s,{emit:r}){const d=v(!1),c=v(!1),t=v({}),T=v(null),U=r,b=s;R(()=>b.filters,u=>{t.value={...u}},{immediate:!0}),R(()=>t.value,u=>{u&&!u.sort_by&&(t.value.sort_by=""),u&&!u.sort_order&&(t.value.sort_order="")},{immediate:!0}),R(()=>t.value.sort_by,u=>{u!=""&&t.value.sort_order==""&&(t.value.sort_order="asc"),u==""&&t.value.sort_order!=""&&(t.value.sort_order="")},{immediate:!0});const j=()=>{U("filtersUpdated",t.value)},D=async u=>{try{const{data:o}=await axios.get(u);return o}catch(o){T.value=o}},y=()=>{d.value=!0},x=()=>{d.value=!1},_=()=>{j(),x()},C=()=>{t.value={},j(),x()},p=u=>u.replace(/_/g," ").replace(/\b\w/g,o=>o.toUpperCase()),h=v({});return de(async()=>{t.value={...b.filters};for(const u of b.sortAndFilters)if(t.value[u.field_name]=t.value[u.field_name]||"",h.value[u.field_name]="",u.field_type==="select"&&u.api){const o=await D(u.api);u.options=o}}),(u,o)=>(l(),a("section",null,[s.showFiltersOutside?A("",!0):(l(),a("div",_e,[i(K,{class:"mr-2",onClick:y},{default:I(()=>o[4]||(o[4]=[z("Sort And Filters")])),_:1}),n("button",{type:"button",onClick:C,class:"bg-white hover:bg-gray-100 text-black inline-flex items-center px-4 py-2 border border-gray-300 rounded-md font-semibold text-xs uppercase tracking-widest mr-2"}," Reset Filters ")])),s.showFiltersOutside?(l(),a("div",{key:2,show:d.value,onClose:x},[n("div",je,[c.value?(l(),a("div",qe,[i(J,{class:"mt-32 mb-32"})])):(l(),a("div",Ie,[o[11]||(o[11]=n("h2",{class:"text-lg font-medium text-gray-900"},"Sort And Filters",-1)),n("div",Le,[(l(!0),a($,null,P(s.sortAndFilters,(e,w)=>(l(),a("div",{key:w,class:"space-y-2"},[i(E,{for:e.field_name,value:e.display_name??p(e.field_name)},null,8,["for","value"]),e.field_type==="select"?O((l(),a("select",{key:0,"onUpdate:modelValue":m=>t.value[e.field_name]=m,id:e.field_name,class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",required:""},[n("option",Te,"Select "+k(e.display_name??p(e.field_name)),1),(l(!0),a($,null,P(e.options,(m,S)=>(l(),a("option",{key:S,value:S},k(p(m)),9,Me))),128))],8,Ne)),[[B,t.value[e.field_name]]]):e.field_type==="date_range"?(l(),V(te,{key:1,modelValue:t.value[e.field_name],"onUpdate:modelValue":m=>t.value[e.field_name]=m,label:e.display_name??"",showLabel:!1},null,8,["modelValue","onUpdate:modelValue","label"])):e.field_type==="number"?(l(),V(N,{key:2,modelValue:t.value[e.field_name],"onUpdate:modelValue":m=>t.value[e.field_name]=m,id:e.field_name,type:"number",placeholder:"Enter value",class:"mt-1 block w-full",required:"",onKeydown:L(_,["enter"])},null,8,["modelValue","onUpdate:modelValue","id"])):(l(),V(N,{key:3,modelValue:t.value[e.field_name],"onUpdate:modelValue":m=>t.value[e.field_name]=m,id:e.field_name,type:"text",placeholder:"Search "+(e.display_name??p(e.field_name)),class:"mt-1 block w-full",required:"",onKeydown:L(_,["enter"])},null,8,["modelValue","onUpdate:modelValue","id","placeholder"])),i(M,{message:h.value[e.field_name],class:"mt-2"},null,8,["message"])]))),128)),b.allowSorting?(l(),a("div",Ee,[i(E,{for:"sort_by",value:"Sort By"}),n("div",Re,[O(n("select",{"onUpdate:modelValue":o[2]||(o[2]=e=>t.value.sort_by=e),id:"sort_by",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",required:""},[o[9]||(o[9]=n("option",{value:"",selected:""},"-",-1)),(l(!0),a($,null,P(s.sortAndFilters,(e,w)=>(l(),a("option",{key:w,value:e.field_name},k(e.display_name??p(e.field_name)),9,ze))),128))],512),[[B,t.value.sort_by]]),O(n("select",{"onUpdate:modelValue":o[3]||(o[3]=e=>t.value.sort_order=e),id:"sort_order",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",disabled:!t.value.sort_by,required:""},o[10]||(o[10]=[n("option",{value:"",disabled:"",selected:""},"Select Sorting Order",-1),n("option",{value:"asc"},"Ascending",-1),n("option",{value:"desc"},"Descending",-1)]),8,Ke),[[B,t.value.sort_order]])]),i(M,{message:h.value.sort_by,class:"mt-2"},null,8,["message"])])):A("",!0)])])),n("div",De,[c.value?A("",!0):(l(),a("div",Ge,[i(K,{onClick:_,class:"ms-3",style:{"margin-left":"0"}},{default:I(()=>o[12]||(o[12]=[z(" Apply Filters ")])),_:1}),n("button",{type:"button",onClick:C,class:"bg-white hover:bg-gray-100 text-black inline-flex items-center px-4 py-2 border border-black rounded-md font-semibold text-xs uppercase tracking-widest"}," Reset Filters ")]))])])],40,Be)):(l(),V(me,{key:1,show:d.value,onClose:x},{default:I(()=>[n("div",he,[c.value?(l(),a("div",we,[i(J,{class:"mt-32 mb-32"})])):(l(),a("div",ke,[o[7]||(o[7]=n("h2",{class:"text-lg font-medium text-gray-900"},"Sort And Filters",-1)),n("div",xe,[(l(!0),a($,null,P(s.sortAndFilters,(e,w)=>(l(),a("div",{key:w},[i(E,{for:e.field_name,value:e.display_name??p(e.field_name)},null,8,["for","value"]),e.field_type==="select"?O((l(),a("select",{key:0,"onUpdate:modelValue":m=>t.value[e.field_name]=m,id:e.field_name,class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",required:""},[n("option",Fe,"Select "+k(e.display_name??p(e.field_name)),1),(l(!0),a($,null,P(e.options,(m,S)=>(l(),a("option",{key:S,value:S},k(p(m)),9,Ae))),128))],8,Se)),[[B,t.value[e.field_name]]]):e.field_type==="date_range"?(l(),V(te,{key:1,modelValue:t.value[e.field_name],"onUpdate:modelValue":m=>t.value[e.field_name]=m,label:e.display_name??"",showLabel:!1},null,8,["modelValue","onUpdate:modelValue","label"])):e.field_type==="number"?(l(),V(N,{key:2,modelValue:t.value[e.field_name],"onUpdate:modelValue":m=>t.value[e.field_name]=m,id:e.field_name,type:"number",placeholder:"Enter value",class:"mt-1 block w-full",required:"",onKeydown:L(_,["enter"])},null,8,["modelValue","onUpdate:modelValue","id"])):(l(),V(N,{key:3,modelValue:t.value[e.field_name],"onUpdate:modelValue":m=>t.value[e.field_name]=m,id:e.field_name,type:"text",placeholder:"Search "+(e.display_name??p(e.field_name)),class:"mt-1 block w-full",required:"",onKeydown:L(_,["enter"])},null,8,["modelValue","onUpdate:modelValue","id","placeholder"])),i(M,{message:h.value[e.field_name],class:"mt-2"},null,8,["message"])]))),128)),b.allowSorting?(l(),a("div",Oe,[i(E,{for:"sort_by",value:"Sort By"}),n("div",Ce,[O(n("select",{"onUpdate:modelValue":o[0]||(o[0]=e=>t.value.sort_by=e),id:"sort_by",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",required:""},[o[5]||(o[5]=n("option",{value:"",selected:""},"-",-1)),(l(!0),a($,null,P(s.sortAndFilters,(e,w)=>(l(),a("option",{key:w,value:e.field_name},k(e.display_name??p(e.field_name)),9,Ve))),128))],512),[[B,t.value.sort_by]]),O(n("select",{"onUpdate:modelValue":o[1]||(o[1]=e=>t.value.sort_order=e),id:"sort_order",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",disabled:!t.value.sort_by,required:""},o[6]||(o[6]=[n("option",{value:"",disabled:"",selected:""},"Select Sorting Order",-1),n("option",{value:"asc"},"Ascending",-1),n("option",{value:"desc"},"Descending",-1)]),8,$e),[[B,t.value.sort_order]])]),i(M,{message:h.value.sort_by,class:"mt-2"},null,8,["message"])])):A("",!0)])])),n("div",Ue,[n("button",{type:"button",onClick:C,class:"bg-white hover:bg-gray-100 text-black inline-flex items-center px-4 py-2 border border-black rounded-md font-semibold text-xs uppercase tracking-widest"}," Reset Filters "),c.value?A("",!0):(l(),a("div",Pe,[n("button",{type:"button",onClick:x,class:"bg-white hover:bg-gray-100 text-black inline-flex items-center px-4 py-2 border rounded-md font-semibold text-xs uppercase tracking-widest"}," Close "),i(K,{onClick:_,class:"ms-3"},{default:I(()=>o[8]||(o[8]=[z(" Apply Filters ")])),_:1})]))])])]),_:1},8,["show"]))]))}},He={key:0},Ye={key:1},Je={key:0},Qe={key:0,class:"w-full md:w-auto"},We={key:1,class:"w-full md:w-auto block"},Xe={key:2,class:"flex flex-wrap justify-between items-center mt-6 mb-6 space-y-4 md:space-y-0"},Ze={key:0,class:"w-full md:w-auto"},et={key:1,class:"w-full md:w-auto block"},tt={key:2,class:"flex justify-end w-full md:w-auto"},lt={key:0,class:"block mt-12"},st={key:4},at={key:0,class:"flex items-center w-full order-last lg:order-none max-lg:mx-auto p-5 pt-0 rounded-xl overflow-hidden transition-all duration-500"},ot={key:1,class:"mb-3"},nt={class:"grid md:grid-cols gap-4 mb-5"},dt={key:5},rt={class:"flex justify-between w-full pt-6 flex-col sm:flex-row"},it={class:"mb-4 sm:mb-0"},ut={class:"text-center"},ct={class:"flex justify-end flex-1"},mt=["disabled"],vt=["disabled"],pt={key:1},Ft={__name:"ListComponent",props:{apiUrl:{type:String,required:!0},createCompleteSignal:{type:Number,default:!1},hasPaddingTop:{type:Boolean,default:!0},hasSearchBox:{type:Boolean,default:!1},sortAndFilters:{type:Array,default:()=>null},allowSorting:{type:Boolean,default:!0},allowSelectAll:{type:Boolean,default:!1},showFiltersOutside:{type:Boolean,default:!1},selectedIds:{type:Array,default:()=>[]}},emits:["update:wholeSelectedIds"],setup(s,{emit:r}){const d=v(!0),c=v([]),t=v([]),T=v(null),U=v(""),b=v(null),j=v(null),D=v(9),y=v(1),x=v(0),_=v(!1),C=v([]),p=s;R(()=>p.createCompleteSignal,g=>{g&&h(y.value)});const h=async(g=1)=>{d.value=!0;try{const f=new URLSearchParams({limit:D.value,page:g});let F=t.value;F.search_value=U.value,Object.entries(F).forEach(([G,X])=>{X&&f.append(G,X)});const{data:q}=await Z.get(`${p.apiUrl}?${f.toString()}`);c.value=q.data.data,b.value=q.data,j.value=q,x.value=q.data.last_page,C.value=q.data.data.map(G=>G.id)}catch(f){T.value=f}finally{d.value=!1}};de(()=>{h(y.value)});const u=()=>{y.value>=x.value||(y.value+=1,h(y.value))},o=()=>{y.value<=1||(y.value-=1,h(y.value))},e=g=>{t.value=g,h()},w=r,m=g=>{_.value=!_.value;let f=_.value?[...new Set([...p.selectedIds,...C.value])]:[];w("update:wholeSelectedIds",f)},S=()=>{y.value=1,h(y.value),w("update:wholeSelectedIds",[]),_.value=!1},ie=()=>{H.fire({title:"Are you sure?",text:"Are you sure you want to approve these Payments?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",allowOutsideClick:!1,stopKeydownPropagation:!0,preConfirm:()=>new Promise((g,f)=>{ue()})})},ue=async()=>{var g,f;try{const F=await Z.post(route("claims.groupApprove",p.selectedIds.toString()));S(),H.fire({title:"Success!",text:"The Payment has been successfully approved.",icon:"success",confirmButtonText:"OK"})}catch(F){console.log(F),H.fire({title:"Error!",text:((f=(g=F.response)==null?void 0:g.data)==null?void 0:f.error)||"An unexpected error occurred while approving the claim.",icon:"error",confirmButtonText:"OK"})}};return(g,f)=>(l(),a("div",null,[d.value?(l(),a("div",He,[i(J,{class:"mt-20 mb-20"})])):(l(),a("div",Ye,[b.value?(l(),a("div",Je,[s.sortAndFilters&&s.showFiltersOutside?(l(),a("div",Qe,[i(ae,{sortAndFilters:s.sortAndFilters,onFiltersUpdated:e,allowSorting:s.allowSorting,filters:t.value,showFiltersOutside:s.showFiltersOutside},null,8,["sortAndFilters","allowSorting","filters","showFiltersOutside"])])):(l(),a("div",We)),s.sortAndFilters||s.hasSearchBox?(l(),a("div",Xe,[s.sortAndFilters&&!s.showFiltersOutside?(l(),a("div",Ze,[i(ae,{sortAndFilters:s.sortAndFilters,onFiltersUpdated:e,allowSorting:s.allowSorting,filters:t.value,showFiltersOutside:s.showFiltersOutside},null,8,["sortAndFilters","allowSorting","filters","showFiltersOutside"])])):(l(),a("div",et)),s.hasSearchBox?(l(),a("div",tt,[i(N,{id:"searchText",type:"text",modelValue:U.value,"onUpdate:modelValue":f[0]||(f[0]=F=>U.value=F),placeholder:"Search",class:"border rounded-l-lg bg-gray-50",onKeydown:L(S,["enter"])},null,8,["modelValue"]),n("button",{class:"bg-gray-50 hover:bg-gray-200 text-gray py-2 px-4 rounded-r-lg",onClick:S},[i(Y(W))])])):A("",!0)])):(l(),a($,{key:3},[s.hasPaddingTop?(l(),a("div",lt)):A("",!0)],64)),s.allowSelectAll?(l(),a("div",st,[Y(ve)().value?(l(),a("div",ot)):(l(),a("div",at,[O(i(be,{onClick:f[1]||(f[1]=F=>m(g.data)),isSelected:_.value,class:"block mr-5"},null,8,["isSelected"]),[[oe,C.value.length]]),i(K,{class:ne(["select-none bg-violet-500 hover:bg-violet-700 active:bg-violet-700 focus:bg-violet-700 font-bold",{invisible:!s.selectedIds.length}]),onClick:ie},{default:I(()=>[z(" Approve "+k(s.selectedIds.length)+" Payment(s) ",1)]),_:1},8,["class"])]))])):A("",!0),n("div",nt,[ce(g.$slots,"list-view",{data:c.value,apiResponse:b.value,fullApiResponse:j.value})]),c.value.length===0?(l(),a("div",dt,[i(ee)])):A("",!0),n("div",rt,[n("div",it,[n("p",ut,"Showing "+k(b.value.from??0)+" to "+k(b.value.to??0)+" of "+k(b.value.total)+" entries",1)]),n("div",ct,[n("button",{class:"bg-white hover:bg-gray-200 text-gray py-2 px-4 rounded ml-2",onClick:o,disabled:y.value===1},"Previous Page",8,mt),n("button",{class:"bg-black hover:bg-gray-700 text-white py-2 px-4 rounded ml-2",disabled:y.value===x.value,onClick:u},"Next Page",8,vt)])])])):(l(),a("div",pt,[i(ee)]))]))]))}};export{be as _,Ft as a};
