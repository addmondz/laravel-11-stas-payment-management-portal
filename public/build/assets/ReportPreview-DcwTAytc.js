import{l as t,q as x,z as w,g as r,a as p,u as N,b as m,c as g,F,o,d as L}from"./app-D3_i5aJr.js";import{L as k,N as b}from"./LoadingComponent-BCNrzkcf.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const B={class:"flex flex-col items-center justify-center m-auto pl-8 pr-8"},P={key:0,class:"flex flex-col items-center justify-center max-w-7xl m-auto min-h-screen"},R={key:2},T=["innerHTML"],j={__name:"ReportPreview",setup(A){const v=t(null),s=t(!0),l=t(!0),c=t(!1),u=t(null),i=t(""),d=t(null);x(async()=>{const e=new URLSearchParams(window.location.search).get("data");if(!e){n("Not Found");return}try{const a=JSON.parse(atob(e));v.value=a,i.value=a.reportName,await f(a)}catch{n("Failed to decode data.")}finally{s.value=!1}});const f=async e=>{l.value=!0;try{const{reportType:a,..._}=e,h=route("reports.generateReportPreview",a),y=await w.post(h,_);d.value=y.data}catch{n("API call failed.")}finally{l.value=!1}},n=e=>{u.value=e,c.value=e==="Not Found",s.value=!1};return(e,a)=>(o(),r(F,null,[p(N(L),{title:i.value},null,8,["title"]),m("div",B,[s.value||l.value?(o(),r("div",P,[p(k,{class:"mt-32 mb-32"})])):c.value||u.value?(o(),g(b,{key:1,class:"min-h-screen"})):(o(),r("div",R,[m("div",{class:"max-w-7xl overflow-auto mt-4 pb-8 m-auto",innerHTML:d.value.html},null,8,T)]))])],64))}};export{j as default};
