import{a as o,o as l,g as u,b as e,k,C as ye,w as C,e as O,f as be,u as a,n as me,i as U,c as g,F as A,j as R,z as I,h as i,m as xe,A as oe,d as _e,t as f,q as ge,P as he}from"./app-Bk9dN4o9.js";import{_ as we,g as le,i as ae}from"./AuthenticatedLayout-DBPloXzu.js";import{L as T,N as q}from"./NotFound-Cki8il1M.js";import{_ as ke}from"./StatusLabel-BsNJMfq4.js";import{I as pe,_ as Ce}from"./BreadcrumbComponent-DSDLgcrJ.js";import{S as B,c as W,d as je,a as M,f as re,h as Pe,e as $e}from"./helpers-CCXOT45k.js";import{_ as ve}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{P as V}from"./PrimaryButton-DtS2XIAk.js";import{_ as z}from"./InputError-Cu0lTApb.js";import{_ as H,a as ne}from"./TextInput-wim1N5uD.js";import{M as fe}from"./Modal-Dn233t6g.js";var De={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"};function ie(n){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?Object(arguments[r]):{},y=Object.keys(s);typeof Object.getOwnPropertySymbols=="function"&&(y=y.concat(Object.getOwnPropertySymbols(s).filter(function(d){return Object.getOwnPropertyDescriptor(s,d).enumerable}))),y.forEach(function(d){Oe(n,d,s[d])})}return n}function Oe(n,r,s){return r in n?Object.defineProperty(n,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[r]=s,n}var G=function(r,s){var y=ie({},r,s.attrs);return o(pe,ie({},y,{icon:De}),null)};G.displayName="CloseOutlined";G.inheritAttrs=!1;var Ve={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"};function ce(n){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?Object(arguments[r]):{},y=Object.keys(s);typeof Object.getOwnPropertySymbols=="function"&&(y=y.concat(Object.getOwnPropertySymbols(s).filter(function(d){return Object.getOwnPropertyDescriptor(s,d).enumerable}))),y.forEach(function(d){Se(n,d,s[d])})}return n}function Se(n,r,s){return r in n?Object.defineProperty(n,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[r]=s,n}var x=function(r,s){var y=ce({},r,s.attrs);return o(pe,ce({},y,{icon:Ve}),null)};x.displayName="InfoCircleOutlined";x.inheritAttrs=!1;const Ne={},Ee={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"};function Ae(n,r){return l(),u("svg",Ee,r[0]||(r[0]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"},null,-1)]))}const N=ve(Ne,[["render",Ae]]),Be={},Fe={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"};function Le(n,r){return l(),u("svg",Fe,r[0]||(r[0]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"},null,-1)]))}const E=ve(Be,[["render",Le]]),Re={key:0},Ie={key:1},Te={class:"grid grid-cols-1 gap-4 mt-4"},Me={class:"text-right mt-6"},ue={__name:"PaymentVoucherForm",props:{claimId:{type:String,required:!0}},setup(n,{emit:r}){const s=n,y=r,d=k(!1),j=k(!1),P=()=>j.value=!j.value,p=ye({paymentVoucherNumber:"",paymentDate:"",receipt:null}),c=async()=>{var b,v;d.value=!0;try{const w=new FormData;Object.entries(p.data()).forEach(([$,h])=>w.append($,h)),await axios.post(route("claims.paymentCompleted",s.claimId),w),B.fire("Success!","Payment details updated successfully","success"),P(),p.reset(),y("createComplete",!0)}catch(w){B.fire("Error!",(v=(b=w.response)==null?void 0:b.data)!=null&&v.errors?"Please check the form.":"An unexpected error occurred.","error")}finally{d.value=!1}};return(b,v)=>(l(),u("section",null,[o(V,{class:"bg-violet-500 hover:bg-violet-700 active:bg-violet-700 focus:bg-violet-700 font-bold",onClick:P},{default:C(()=>v[3]||(v[3]=[O(" Payment Completed ")])),_:1}),o(fe,{show:j.value,onClose:P},{default:C(()=>[e("form",{onSubmit:be(c,["prevent"]),class:"p-6 space-y-4"},[d.value?(l(),u("div",Re,[o(T,{class:"mt-32 mb-32"})])):(l(),u("div",Ie,[v[5]||(v[5]=e("h2",{class:"text-lg font-medium"},"Payment Voucher Details",-1)),e("div",Te,[e("div",null,[o(H,{for:"paymentVoucherNumber",value:"Payment Voucher Number"}),o(ne,{id:"paymentVoucherNumber",modelValue:a(p).paymentVoucherNumber,"onUpdate:modelValue":v[0]||(v[0]=w=>a(p).paymentVoucherNumber=w),class:"mt-1 block w-full",required:"",placeholder:"Enter Voucher Number"},null,8,["modelValue"]),o(z,{message:a(p).errors.paymentVoucherNumber,class:"mt-2"},null,8,["message"])]),e("div",null,[o(H,{for:"paymentDate",value:"Payment Date"}),o(ne,{id:"paymentDate",type:"date",modelValue:a(p).paymentDate,"onUpdate:modelValue":v[1]||(v[1]=w=>a(p).paymentDate=w),class:"mt-1 block w-full",required:""},null,8,["modelValue"]),o(z,{message:a(p).errors.paymentDate,class:"mt-2"},null,8,["message"])]),e("div",null,[o(H,{for:"receipt",value:"Upload Receipt"}),e("input",{id:"receipt",type:"file",onChange:v[2]||(v[2]=w=>a(p).receipt=w.target.files[0]),accept:".jpeg,.jpg,.pdf,.png",class:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 cursor-pointer",required:""},null,32),o(z,{message:a(p).errors.receipt,class:"mt-2"},null,8,["message"])])]),e("div",Me,[e("button",{type:"button",onClick:P,class:"bg-white hover:bg-gray-100 text-black inline-flex items-center px-4 py-2 border rounded-md font-semibold text-xs uppercase tracking-widest"}," Close "),o(V,{type:"submit",class:me(["ms-3",{"opacity-25":a(p).processing}]),disabled:a(p).processing},{default:C(()=>v[4]||(v[4]=[O(" Submit ")])),_:1},8,["class","disabled"])])]))],32)]),_:1},8,["show"])]))}},ze={class:"bg-white p-4 pt-2 rounded-lg img-modal h-full flex flex-col w-full mx-auto"},He={class:"flex justify-between"},Ue={class:"flex-grow overflow-hidden flex justify-center items-center img-loader-container"},qe=["src","alt"],We=["src"],de={__name:"DocumentViewer",props:{src:{type:String,required:!0},alt:{type:String,default:"File"},id:{type:Number,required:!0}},setup(n){const r=n,s=k(!1),y=k(!1),d=k(!1),j=k("500px"),P=U(()=>{var h;return(h=r.src)==null?void 0:h.match(/\.(jpg|jpeg|png)$/)}),p=U(()=>{var h;return(h=r.src)==null?void 0:h.endsWith(".pdf")}),c=()=>{s.value=!0,p.value&&(j.value="800px")},b=()=>{y.value=!0,console.error("Error loading the file")},v=()=>{d.value=!0},w=()=>{d.value=!1},$=async()=>{try{const h=await fetch(r.src);if(!h.ok)throw new Error("Failed to fetch the file");const S=await h.blob(),F=window.URL.createObjectURL(S),D=document.createElement("a");D.href=F,D.download=`receipt-document-payment-${W(r.id)}.${p.value?"pdf":"jpg"}`,document.body.appendChild(D),D.click(),D.remove(),window.URL.revokeObjectURL(F)}catch(h){console.error("Error downloading the file:",h)}};return(h,S)=>(l(),u("div",null,[e("div",{class:"text-base cursor-pointer inline text-violet-700 font-bold",onClick:v},"Open"),o(fe,{show:d.value,onClose:w,maxWidth:p.value?"7xl":"2xl",showMaxHeight:p.value},{default:C(()=>[e("div",ze,[e("div",He,[o(V,{class:me(["m-3 ml-0",{invisible:n.src=="/null"||y.value}]),onClick:$},{default:C(()=>S[0]||(S[0]=[O(" Download Receipt ")])),_:1},8,["class"]),o(a(G),{class:"pb-2 mt-3",onClick:w})]),e("div",Ue,[n.src=="/null"?(l(),g(q,{key:0})):y.value?(l(),g(q,{key:2})):(l(),u(A,{key:1},[P.value?(l(),u(A,{key:0},[R(e("img",{onLoad:c,onError:b,src:n.src,alt:n.alt,class:"max-h-full max-w-full object-contain"},null,40,qe),[[I,s.value]]),R(o(T,{class:"mt-32 mb-32"},null,512),[[I,!s.value]])],64)):i("",!0),p.value?(l(),u(A,{key:1},[R(e("iframe",{src:n.src,class:"w-full h-full",onLoad:c,onError:b},null,40,We),[[I,s.value]]),R(o(T,{class:"mt-32 mb-32"},null,512),[[I,!s.value]])],64)):i("",!0)],64))])])]),_:1},8,["show","maxWidth","showMaxHeight"])]))}},Ge={class:"flex flex-wrap justify-between items-center gap-y-4 sm:flex-nowrap"},Ye={class:"flex"},Je={class:"flex items-center justify-center"},Qe={key:0},Xe={key:1},Ze={key:0,class:"max-w-8xl mx-auto py-6 px-4 sm:px-6 lg:px-8"},Ke={class:"mb-5"},et={class:"bg-white max-w-8xl mx-auto sm:px-6 lg:px-8 p-5 sm:p-0 mb-5"},tt={class:"px-5 py-3 border-b border-gray-300 flex justify-between items-center"},st={class:"flex justify-between content-center w-full"},ot={key:0,class:"grid md:grid-cols-3 gap-9 p-6 border-gray-300 col-span-2"},lt={class:"mb-4"},at={class:"flex justify-between"},rt={class:"text-base"},nt={class:"mb-4"},it={class:"flex justify-between"},ct={class:"text-base"},ut={class:"mb-4"},dt={class:"flex justify-between"},mt={class:"text-base"},pt={class:"mb-4"},vt={class:"flex justify-between"},ft={class:"text-base capitalize"},yt={class:"mb-4"},bt={class:"flex justify-between"},xt={class:"text-base"},_t={class:"mb-4"},gt={class:"flex justify-between"},ht={class:"text-base"},wt={class:"bg-white max-w-8xl mx-auto sm:px-6 lg:px-8 p-5 sm:p-0 mb-5"},kt={class:"px-5 py-3 border-b border-gray-300 flex justify-between items-center"},Ct={class:"flex justify-between content-center w-full"},jt={key:0,class:"grid md:grid-cols-3 gap-9 p-6 border-gray-300 col-span-2"},Pt={class:"mb-4"},$t={class:"flex justify-between"},Dt={class:"text-base"},Ot={class:"mb-4"},Vt={class:"flex justify-between"},St={class:"text-base"},Nt={class:"bg-white max-w-8xl mx-auto sm:px-6 lg:px-8 p-5 sm:p-0 mb-5"},Et={class:"px-5 py-3 border-b border-gray-300 flex justify-between items-center"},At={class:"flex justify-between content-center w-full"},Bt={key:0,class:"grid md:grid-cols-3 gap-9 p-6 border-gray-300 col-span-2"},Ft={class:"mb-4"},Lt={class:"flex justify-between"},Rt={class:"text-base"},It={class:"mb-4"},Tt={class:"flex justify-between"},Mt={class:"text-base"},zt={class:"mb-4"},Ht={class:"flex justify-between"},Ut={class:"text-base"},qt={class:"mb-4"},Wt={class:"flex justify-between"},Gt={class:"text-base"},Yt={class:"bg-white max-w-8xl mx-auto sm:px-6 lg:px-8 p-5 sm:p-0 mb-5"},Jt={class:"px-5 py-3 border-b border-gray-300 flex justify-between items-center"},Qt={class:"flex justify-between content-center w-full"},Xt={key:0,class:"grid md:grid-cols-3 gap-9 p-6 border-gray-300 col-span-2"},Zt={class:"mb-4"},Kt={class:"flex justify-between"},es={class:"mb-4"},ts={class:"flex justify-between"},ss={class:"text-base"},os={class:"bg-white max-w-8xl mx-auto sm:px-6 lg:px-8 p-5 sm:p-0 mb-5"},ls={class:"px-5 py-3 border-b border-gray-300 flex justify-between items-center"},as={class:"flex justify-between content-center w-full"},rs={key:0,class:"p-6 border-gray-300 mb-4 w-full"},ns={class:"relative list-none"},is=["value"],cs={class:"flex justify-between flex-col sm:flex-row"},us={class:"font-bold"},ds={class:"text-gray-500"},ms={key:0,class:"bg-white max-w-8xl mx-auto sm:px-6 lg:px-8 p-5 sm:p-0 mb-5"},ps={class:"px-5 py-3 border-b border-gray-300 flex justify-between items-center"},vs={class:"flex justify-between content-center w-full"},fs={key:0,class:"grid md:grid-cols-3 gap-9 p-6 border-gray-300 col-span-2"},ys={class:"mb-4"},bs={class:"flex justify-between"},xs={class:"text-base"},_s={class:"mb-4"},gs={class:"flex justify-between"},hs={class:"text-base"},ws={class:"mb-4"},ks={class:"flex justify-between"},Cs={key:1,class:"max-w-8xl mx-auto sm:px-6 lg:px-8 p-5 sm:p-0 mb-5 text-right"},js={key:2,class:"max-w-8xl mx-auto sm:px-6 lg:px-8 p-5 sm:p-0 mb-5 text-right"},Ps={key:1},$s={style:{"min-height":"80vh"},class:"flex flex-col justify-center items-center"},Ds={class:"flex justify-center"},Ts={__name:"ClaimDetails",props:{id:{type:String,required:!0}},setup(n){const r=k(!0),s=k([]),y=k(null),d=k(null),j=n,P=route("claims.fetchData",j.id);k("0"),k({});const p=[{title:"Payments",link:route("dashboard")},{title:"#"+W(j.id)}],c=k({details:!0,amount:!0,receipt:!0,approvalHistory:!0,paymentVoucher:!0,bankDetails:!0}),b=m=>{c.value[m]=!c.value[m]},v=()=>{B.fire({title:"Are you sure?",text:"Are you sure you want to approve this Payment?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",allowOutsideClick:!1,stopKeydownPropagation:!0,preConfirm:()=>new Promise((m,t)=>{w()})})},w=async()=>{try{const m=await oe.post(route("claims.approveClaim",j.id));$(),B.fire({title:"Success!",text:"The payment has been successfully approved.",icon:"success",confirmButtonText:"OK"})}catch(m){B.fire({title:"Error!",text:m.response?m.response.data.error||"There was an error while approving the payment. Please try again.":"An unexpected error occurred.",icon:"error",confirmButtonText:"OK"})}},$=async()=>{try{const{data:m}=await oe.get(P);s.value=m.data,d.value=m}catch(m){y.value=m}finally{r.value=!1}};xe(()=>{$()});const h=()=>{$()},S=U(()=>{const m=s.value.receipt_file;return m&&m.toLowerCase().endsWith(".pdf")}),F=m=>{let t={reportName:"Claim Export 1",reportType:"claimExport",claim_id:s.value.id,for_pdf:!1,isReceiptFilePdf:S.value};return t.for_pdf=!0,t},D=async m=>{r.value=!0;try{const t=F(m==="export"),L={test:route("reports.generateReportPreview","claimExport"),export:route("reports.exportPDF",t.reportType)};await Pe(m,t,L,"claim_report_"+W(s.value.id))}catch(t){console.error("Error generating report:",t)}finally{r.value=!1}};return(m,t)=>(l(),u(A,null,[o(a(_e),{title:"Payment Details"}),o(we,null,{header:C(()=>[e("div",Ge,[e("div",Ye,[o(Ce,{breadcrumbs:p})]),e("div",Je,[d.value?(l(),g(ke,{key:0,class:"text-sm inline-block",status:s.value.status,name:s.value.status_name},null,8,["status","name"])):i("",!0),s.value.status_id<2&&a(le)().value==s.value.next_approval_level?(l(),g(V,{key:1,class:"bg-violet-500 hover:bg-violet-700 active:bg-violet-700 focus:bg-violet-700 font-bold",onClick:v},{default:C(()=>t[13]||(t[13]=[O("Approve Payment")])),_:1})):i("",!0),s.value.status_id==2&&a(ae)().value?(l(),g(ue,{key:2,claimId:j.id,onCreateComplete:h,class:"rounded-md"},null,8,["claimId"])):i("",!0)])])]),default:C(()=>{var L,Y,J,Q,X,Z,K,ee,te,se;return[r.value?(l(),u("div",Qe,[o(T,{class:"mt-32"})])):(l(),u("div",Xe,[d.value?(l(),u("div",Ze,[e("div",Ke,[o(V,{class:"mr-5",onClick:t[0]||(t[0]=_=>D("export"))},{default:C(()=>t[14]||(t[14]=[O(" Export PDF ")])),_:1})]),e("div",et,[e("div",tt,[e("div",st,[t[15]||(t[15]=e("h2",null,"Details",-1)),c.value.details?(l(),g(N,{key:0,class:"cursor-pointer",onClick:t[1]||(t[1]=_=>b("details"))})):i("",!0),c.value.details?i("",!0):(l(),g(E,{key:1,class:"cursor-pointer",onClick:t[2]||(t[2]=_=>b("details"))}))])]),c.value.details?(l(),u("div",ot,[e("div",lt,[e("div",at,[t[16]||(t[16]=e("p",{class:"mb-1 text-sm text-gray-500"},"Created By",-1)),o(a(x),{class:"text-gray-400"})]),e("p",rt,f(s.value.created_user?s.value.created_user.name??"-":"-"),1)]),e("div",nt,[e("div",it,[t[17]||(t[17]=e("p",{class:"mb-1 text-sm text-gray-500"},"Payment To",-1)),o(a(x),{class:"text-gray-400"})]),e("p",ct,f(s.value.payment_to_user?s.value.payment_to_user.name??"-":"-"),1)]),e("div",ut,[e("div",dt,[t[18]||(t[18]=e("p",{class:"mb-1 text-sm text-gray-500"},"Payment Type",-1)),o(a(x),{class:"text-gray-400"})]),e("p",mt,f(a(je)(s.value.payment_type)??"-"),1)]),e("div",pt,[e("div",vt,[t[19]||(t[19]=e("p",{class:"mb-1 text-sm text-gray-500"},"Payment Category",-1)),o(a(x),{class:"text-gray-400"})]),e("p",ft,f(((L=s.value.payment_category)==null?void 0:L.name)||"-"),1)]),e("div",yt,[e("div",bt,[t[20]||(t[20]=e("p",{class:"mb-1 text-sm text-gray-500"},"Purpose",-1)),o(a(x),{class:"text-gray-400"})]),e("p",xt,f(s.value.purpose??"-"),1)]),e("div",_t,[e("div",gt,[t[21]||(t[21]=e("p",{class:"mb-1 text-sm text-gray-500"},"Creatd At",-1)),o(a(x),{class:"text-gray-400"})]),e("p",ht,f(a(M)(s.value.created_at)??"-"),1)])])):i("",!0)]),e("div",wt,[e("div",kt,[e("div",Ct,[t[22]||(t[22]=e("h2",null,"Amount",-1)),c.value.amount?(l(),g(N,{key:0,class:"cursor-pointer",onClick:t[3]||(t[3]=_=>b("amount"))})):i("",!0),c.value.amount?i("",!0):(l(),g(E,{key:1,class:"cursor-pointer",onClick:t[4]||(t[4]=_=>b("amount"))}))])]),c.value.amount?(l(),u("div",jt,[e("div",Pt,[e("div",$t,[t[23]||(t[23]=e("p",{class:"mb-1 text-sm text-gray-500"},"Total Amount",-1)),o(a(x),{class:"text-gray-400"})]),e("p",Dt,f(s.value.currency_object.short_code)+" "+f(a(re)(s.value.amount)),1)]),e("div",Ot,[e("div",Vt,[t[24]||(t[24]=e("p",{class:"mb-1 text-sm text-gray-500"},"GST Amount",-1)),o(a(x),{class:"text-gray-400"})]),e("p",St,f(Number(s.value.gst_amount)===0?"-":s.value.currency_object.short_code+" "+a(re)(s.value.gst_amount)),1)])])):i("",!0)]),e("div",Nt,[e("div",Et,[e("div",At,[t[25]||(t[25]=e("h2",null,"Bank Details",-1)),c.value.bankDetails?(l(),g(N,{key:0,class:"cursor-pointer",onClick:t[5]||(t[5]=_=>b("bankDetails"))})):i("",!0),c.value.bankDetails?i("",!0):(l(),g(E,{key:1,class:"cursor-pointer",onClick:t[6]||(t[6]=_=>b("bankDetails"))}))])]),c.value.bankDetails?(l(),u("div",Bt,[e("div",Ft,[e("div",Lt,[t[26]||(t[26]=e("p",{class:"mb-1 text-sm text-gray-500"},"Bank Name",-1)),o(a(x),{class:"text-gray-400"})]),e("p",Rt,f(((Y=s.value.payment_to_user)==null?void 0:Y.bank_name)||"-"),1)]),e("div",It,[e("div",Tt,[t[27]||(t[27]=e("p",{class:"mb-1 text-sm text-gray-500"},"Bank Number",-1)),o(a(x),{class:"text-gray-400"})]),e("p",Mt,f(((J=s.value.payment_to_user)==null?void 0:J.bank_account_no)||"-"),1)]),e("div",zt,[e("div",Ht,[t[28]||(t[28]=e("p",{class:"mb-1 text-sm text-gray-500"},"Swift Code",-1)),o(a(x),{class:"text-gray-400"})]),e("p",Ut,f(((Q=s.value.payment_to_user)==null?void 0:Q.swift_code)||"-"),1)]),e("div",qt,[e("div",Wt,[t[29]||(t[29]=e("p",{class:"mb-1 text-sm text-gray-500"},"Country",-1)),o(a(x),{class:"text-gray-400"})]),e("p",Gt,f(((K=(Z=(X=s.value.payment_to_user)==null?void 0:X.currency)==null?void 0:Z.country)==null?void 0:K.name)||"-")+" ("+f(((se=(te=(ee=s.value.payment_to_user)==null?void 0:ee.currency)==null?void 0:te.country)==null?void 0:se.short_code)||"-")+")",1)])])):i("",!0)]),e("div",Yt,[e("div",Jt,[e("div",Qt,[t[30]||(t[30]=e("h2",null,"Receipt",-1)),c.value.receipt?(l(),g(N,{key:0,class:"cursor-pointer",onClick:t[7]||(t[7]=_=>b("receipt"))})):i("",!0),c.value.receipt?i("",!0):(l(),g(E,{key:1,class:"cursor-pointer",onClick:t[8]||(t[8]=_=>b("receipt"))}))])]),c.value.receipt?(l(),u("div",Xt,[e("div",Zt,[e("div",Kt,[t[31]||(t[31]=e("p",{class:"mb-1 text-sm text-gray-500"},"Receipt Document",-1)),o(a(x),{class:"text-gray-400"})]),e("div",null,[o(de,{src:`/${s.value.receipt_file}`,alt:"Receipt Image",id:s.value.id},null,8,["src","id"])])]),e("div",es,[e("div",ts,[t[32]||(t[32]=e("p",{class:"mb-1 text-sm text-gray-500"},"Receipt Date",-1)),o(a(x),{class:"text-gray-400"})]),e("p",ss,f(a(M)(s.value.receipt_date)??"-"),1)])])):i("",!0)]),e("div",os,[e("div",ls,[e("div",as,[t[33]||(t[33]=e("h2",null,"Approval History",-1)),c.value.approvalHistory?(l(),g(N,{key:0,class:"cursor-pointer",onClick:t[9]||(t[9]=_=>b("approvalHistory"))})):i("",!0),c.value.approvalHistory?i("",!0):(l(),g(E,{key:1,class:"cursor-pointer",onClick:t[10]||(t[10]=_=>b("approvalHistory"))}))])]),c.value.approvalHistory?(l(),u("div",rs,[e("ul",ns,[t[35]||(t[35]=e("div",{class:"absolute top-3 left-[21px] w-[2px] bg-gray-300 h-full z-1"},null,-1)),(l(!0),u(A,null,ge(s.value.status_log,_=>(l(),u("li",{class:"relative pl-10 mb-4",key:_.id,value:_},[t[34]||(t[34]=e("div",{class:"absolute left-[12px] top-1 w-5 h-5 rounded-full",style:{"background-color":"#d4d9df"}},[e("div",{class:"absolute left-[4px] top-1 w-3 h-3 rounded-full",style:{"background-color":"#7367F0"}})],-1)),e("div",cs,[e("p",us,f(_.status),1),e("p",ds,f(a($e)(_.created_at)),1)]),e("p",null,f(_.name),1)],8,is))),128))])])):i("",!0)]),s.value.status_id>=3?(l(),u("div",ms,[e("div",ps,[e("div",vs,[t[36]||(t[36]=e("h2",null,"Payment Voucher",-1)),c.value.paymentVoucher?(l(),g(N,{key:0,class:"cursor-pointer",onClick:t[11]||(t[11]=_=>b("paymentVoucher"))})):i("",!0),c.value.paymentVoucher?i("",!0):(l(),g(E,{key:1,class:"cursor-pointer",onClick:t[12]||(t[12]=_=>b("paymentVoucher"))}))])]),c.value.paymentVoucher?(l(),u("div",fs,[e("div",ys,[e("div",bs,[t[37]||(t[37]=e("p",{class:"mb-1 text-sm text-gray-500"},"Payment Voucher Number",-1)),o(a(x),{class:"text-gray-400"})]),e("p",xs,f(s.value.payment_voucher_number??"-"),1)]),e("div",_s,[e("div",gs,[t[38]||(t[38]=e("p",{class:"mb-1 text-sm text-gray-500"},"Payment Date",-1)),o(a(x),{class:"text-gray-400"})]),e("p",hs,f(a(M)(s.value.payment_date)??"-"),1)]),e("div",ws,[e("div",ks,[t[39]||(t[39]=e("p",{class:"mb-1 text-sm text-gray-500"},"Receipt Document",-1)),o(a(x),{class:"text-gray-400"})]),e("div",null,[o(de,{src:`/${s.value.payment_voucher_receipt_file}`,alt:"Receipt Image",id:s.value.id},null,8,["src","id"])])])])):i("",!0)])):i("",!0),s.value.status_id<2&&a(le)().value==s.value.next_approval_level?(l(),u("div",Cs,[o(V,{class:"bg-violet-500 hover:bg-violet-700 active:bg-violet-700 focus:bg-violet-700 font-bold",onClick:v},{default:C(()=>t[40]||(t[40]=[O("Approve Payment")])),_:1})])):i("",!0),s.value.status_id==2&&a(ae)().value?(l(),u("div",js,[o(ue,{claimId:j.id,onCreateComplete:h},null,8,["claimId"])])):i("",!0)])):(l(),u("div",Ps,[e("div",$s,[o(q),e("div",Ds,[o(a(he),{href:m.route("dashboard")},{default:C(()=>[o(V,{class:"p-4"},{default:C(()=>t[41]||(t[41]=[O("Back To Home Page")])),_:1})]),_:1},8,["href"])])])]))]))]}),_:1})],64))}};export{Ts as default};
